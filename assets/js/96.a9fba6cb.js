(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{530:function(s,a,t){"use strict";t.r(a);var e=t(11),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"作用域、作用域链、执行上下文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作用域、作用域链、执行上下文"}},[s._v("#")]),s._v(" 作用域、作用域链、执行上下文")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope1.png",alt:"scope1"}})]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.processon.com/view/link/599efadee4b0920e4be0c186",target:"_blank",rel:"noopener noreferrer"}},[s._v("查看大图"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"作用域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作用域"}},[s._v("#")]),s._v(" 作用域")]),s._v(" "),t("p",[s._v("作用域是指程序源代码中定义变量的区域。")]),s._v(" "),t("p",[s._v("作用域是一套规则，用于确定在何处以及如何查找标识符（变量），查询分为 "),t("code",[s._v("RHS")]),s._v(" 查询 和 "),t("code",[s._v("LHS")]),s._v(" 查询")]),s._v(" "),t("h3",{attrs:{id:"词法作用域和动态作用域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#词法作用域和动态作用域"}},[s._v("#")]),s._v(" 词法作用域和动态作用域")]),s._v(" "),t("p",[s._v("作用域分为词法作用域和动态作用域。"),t("code",[s._v("javascript")]),s._v(" 使用的是词法作用域，词法作用域就是定义在词法阶段的作用域，是由写代码时将变量和函数写在哪里来决定的。")]),s._v(" "),t("p",[s._v("它们两者的区别，在词法作用域中函数的作用域在"),t("strong",[s._v("函数定义")]),s._v("的时候就决定了；而动态作用域是在"),t("strong",[s._v("函数执行")]),s._v("的时候才确定函数的作用域。")]),s._v(" "),t("p",[s._v("举例子，请看下面代码:")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 结果是 ???")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("假设 "),t("code",[s._v("JavaScript")]),s._v(" 采用词法作用域，让我们分析下执行过程：")]),s._v(" "),t("p",[s._v("执行 "),t("code",[s._v("foo")]),s._v(" 函数，先从 "),t("code",[s._v("foo")]),s._v(" 函数内部查找是否有局部变量 "),t("code",[s._v("value")]),s._v("，如果没有，就根据书写的位置，查找上面一层的代码，也就是 "),t("code",[s._v("value")]),s._v(" 等于 1，所以结果会打印 1。")]),s._v(" "),t("p",[s._v("假设 "),t("code",[s._v("JavaScript")]),s._v(" 采用动态作用域，让我们分析下执行过程：")]),s._v(" "),t("p",[s._v("执行 "),t("code",[s._v("foo")]),s._v(" 函数，依然是从 "),t("code",[s._v("foo")]),s._v(" 函数内部查找是否有局部变量 "),t("code",[s._v("value")]),s._v("。如果没有，就从调用函数的作用域，也就是 "),t("code",[s._v("bar")]),s._v(" 函数内部查找 "),t("code",[s._v("value")]),s._v(" 变量，所以结果会打印 2。")]),s._v(" "),t("p",[s._v("前面我们已经说了，"),t("code",[s._v("JavaScript")]),s._v(" 采用的是静态作用域，所以这个例子的结果是 1。")]),s._v(" "),t("p",[t("strong",[s._v("作用域分为全局作用域和函数作用域，函数作用域可以互相嵌套")])]),s._v(" "),t("p",[s._v("在下面的例子中，存在着全局作用域，"),t("code",[s._v("fn")]),s._v(" 作用域和 "),t("code",[s._v("bar")]),s._v(" 作用域，它们相互嵌套")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/css/JS_ECMA_grammer_scope2.jpg",alt:"scope2"}})]),s._v(" "),t("h2",{attrs:{id:"执行环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行环境"}},[s._v("#")]),s._v(" 执行环境")]),s._v(" "),t("p",[s._v("执行环境(execution context)，有时也称为执行上下文、执行上下文环境或环境，定义了变量或函数有权访问的其他数据。每个执行环境都有一个与之关联的 "),t("strong",[s._v("变量对象")]),s._v("(variable object)，环境中定义的所有变量和函数都保存在这个对象中")]),s._v(" "),t("p",[s._v("一定要区分执行环境和变量对象。执行环境会随着函数的调用和返回，不断的重建和销毁。但变量对象在有变量引用(如闭包)的情况下，将留在内存中不被销毁")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/css/JS_ECMA_grammer_scope2.jpg",alt:"scope2"}})]),s._v(" "),t("p",[t("code",[s._v("JavaScript")]),s._v(" 在执行前会做“准备工作”，这个过程会创建“执行上下文”，执行上下文分为全局执行上下文、函数执行上下文、"),t("code",[s._v("eval")]),s._v(" 执行上下文。")]),s._v(" "),t("p",[s._v("当程序开始执行时，会创建一个全局执行上下文，如果遇到函数则创建函数执行上下文，每个执行函数都会创建一个不同的执行上下文，嵌套函数也不例外，那么这么多执行上下文是通过什么管理的呢？")]),s._v(" "),t("p",[t("strong",[s._v("执行环境栈")])]),s._v(" "),t("p",[s._v("有那么多执行环境，那么 "),t("code",[s._v("JavaScript")]),s._v(" 是怎么知道哪个是先执行，哪个是后执行。答案是通过执行环境栈")]),s._v(" "),t("p",[s._v("执行环境栈是后进先出的数据结构，类型浏览器的前进后退，有序地保存着当前程序中存在的执行环境。当执行流进入一个函数时，函数的环境就会被推入一个环境栈中。而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。"),t("code",[s._v("javascript")]),s._v(" 程序中的执行流正是由这个机制控制着")]),s._v(" "),t("p",[s._v("在例子中，当执行流进入 "),t("code",[s._v("bar(20)")]),s._v(" 函数时，当前程序的执行环境栈如下图所示，其中黄色的"),t("code",[s._v("bar(20)")]),s._v("执行环境表示当前程序正处此执行环境中")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope6.jpg",alt:"scope6"}})]),s._v(" "),t("p",[s._v("当 "),t("code",[s._v("bar(20)")]),s._v(" 函数执行完成后，当前程序的执行环境栈如下图所示，"),t("code",[s._v("bar(20)")]),s._v(" 函数的执行环境被销毁，等待垃圾回收，控制权交还给黄色背景的 "),t("code",[s._v("fn(0)")]),s._v(" 执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope7.jpg",alt:"scope7"}})]),s._v(" "),t("h2",{attrs:{id:"创建执行上下文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建执行上下文"}},[s._v("#")]),s._v(" 创建执行上下文")]),s._v(" "),t("p",[s._v("创建执行上下文，会同时创建三个重要属性：")]),s._v(" "),t("ul",[t("li",[s._v("变量对象(Variable object，VO)")]),s._v(" "),t("li",[s._v("作用域链(Scope chain)")]),s._v(" "),t("li",[s._v("this")])]),s._v(" "),t("p",[s._v("首先介绍变量对象。")]),s._v(" "),t("h3",{attrs:{id:"变量对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量对象"}},[s._v("#")]),s._v(" 变量对象")]),s._v(" "),t("p",[s._v("变量对象是与执行上下文相关的数据作用域，存储了在上下文中定义的变量和函数声明。")]),s._v(" "),t("p",[s._v("变量对象包括：")]),s._v(" "),t("ul",[t("li",[s._v("函数的所有形参 (如果是函数上下文)\n"),t("ul",[t("li",[s._v("由名称和对应值组成的一个变量对象的属性被创建")]),s._v(" "),t("li",[s._v("没有实参，属性值设为 "),t("code",[s._v("undefined")])])])]),s._v(" "),t("li",[s._v("函数声明\n"),t("ul",[t("li",[s._v("由名称和对应值（函数对象(function-object)）组成一个变量对象的属性被创建")]),s._v(" "),t("li",[s._v("如果变量对象已经存在相同名称的属性，则完全替换这个属性")])])]),s._v(" "),t("li",[s._v("变量声明\n"),t("ul",[t("li",[s._v("由名称和对应值（undefined）组成一个变量对象的属性被创建；")]),s._v(" "),t("li",[s._v("如果变量名称跟已经声明的形式参数或函数相同，则变量声明不会干扰已经存在的这类属性")])])])]),s._v(" "),t("p",[s._v("举个例子：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("c")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("d")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("在进入执行上下文后，这时候的 AO 是：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    arguments"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("undefined")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" reference to "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("c")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("undefined")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("strong",[s._v("代码执行")])]),s._v(" "),t("p",[s._v("在代码执行阶段，会顺序执行代码，根据代码，修改变量对象的值")]),s._v(" "),t("p",[s._v("还是上面的例子，当代码执行完后，这时候的 AO 是：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('AO = {\n    arguments: {\n        0: 1,\n        length: 1\n    },\n    a: 1,\n    b: 3,\n    c: reference to function c(){},\n    d: reference to FunctionExpression "d"\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("到这里变量对象的创建过程就完了，总结上面的过程：")]),s._v(" "),t("ol",[t("li",[s._v("全局上下文的变量对象初始化是全局对象")]),s._v(" "),t("li",[s._v("函数上下文的变量对象初始化只包括 "),t("code",[s._v("Arguments")]),s._v(" 对象")]),s._v(" "),t("li",[s._v("在进入执行上下文时会给变量对象添加形参、函数声明、变量声明等初始的属性值")]),s._v(" "),t("li",[s._v("在代码执行阶段，会再次修改变量对象的属性值")])]),s._v(" "),t("p",[s._v("作用域分为全局作用域和函数作用域，函数作用域可以互相嵌套")]),s._v(" "),t("p",[s._v("在下面的例子中，存在着全局作用域，"),t("code",[s._v("fn")]),s._v(" 作用域和 "),t("code",[s._v("bar")]),s._v(" 作用域，它们相互嵌套")]),s._v(" "),t("h3",{attrs:{id:"作用域链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作用域链"}},[s._v("#")]),s._v(" 作用域链")]),s._v(" "),t("p",[s._v("各个作用域的嵌套关系组成了一条作用域链。上面 "),t("code",[s._v("bar")]),s._v(" 函数保存的作用域链是 "),t("code",[s._v("bar -> fn -> 全局")]),s._v("，"),t("code",[s._v("fn")]),s._v(" 函数保存的作用域链是 "),t("code",[s._v("fn -> 全局")])]),s._v(" "),t("p",[s._v("使用作用域链主要是进行标识符的查询，标识符解析就是沿着作用域链一级一级地搜索标识符的过程，而作用域链就是要保证对变量和函数的有序访问")]),s._v(" "),t("p",[s._v("【1】如果自身作用域中声明了该变量，则无需使用作用域链")]),s._v(" "),t("p",[s._v("在下面的例子中，如果要在 "),t("code",[s._v("bar")]),s._v(" 函数中查询变量 "),t("code",[s._v("a")]),s._v("，则赋值为100即可")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("【2】如果自身作用域中未声明该变量，则需要使用作用域链进行查找")]),s._v(" "),t("p",[s._v("这时，就引出了另一个概念——"),t("strong",[s._v("自由变量")]),s._v("。在当前作用域中存在但未在当前作用域中声明的变量叫自由变量")]),s._v(" "),t("p",[s._v("如果要在 "),t("code",[s._v("bar")]),s._v(" 函数中查询变量 "),t("code",[s._v("b")]),s._v("，由于 "),t("code",[s._v("b")]),s._v(" 并没有在当前作用域中声明，所以 "),t("code",[s._v("b")]),s._v(" 是自由变量。"),t("code",[s._v("bar")]),s._v(" 函数的作用域链是 "),t("code",[s._v("bar -> fn -> 全局")]),s._v("。到上一级 "),t("code",[s._v("fn")]),s._v(" 作用域中查找 "),t("code",[s._v("b")]),s._v(" 没有找到，继续到再上一级全局作用域中查找"),t("code",[s._v("b")]),s._v("，找到了 "),t("code",[s._v("b")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("如果标识符没有找到，则需要分为 "),t("code",[s._v("RHS")]),s._v(" 和 "),t("code",[s._v("LHS")]),s._v(" 查询进行分析，若进行的是 "),t("code",[s._v("LHS")]),s._v(" 查询，则在全局环境中声明该变量，若是严格模式下的 "),t("code",[s._v("LHS")]),s._v(" 查询，则抛出 "),t("code",[s._v("ReferenceError")]),s._v(" (引用错误)异常；若进行的是 "),t("code",[s._v("RHS")]),s._v(" 查询，则抛出ReferenceError(引用错误)异常")]),s._v(" "),t("h3",{attrs:{id:"确定-this-的指向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#确定-this-的指向"}},[s._v("#")]),s._v(" 确定 this 的指向")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("JavaScript")]),s._v(" 中，"),t("code",[s._v("this")]),s._v(" 指向执行当前代码对象的所有者，可简单理解为 "),t("code",[s._v("this")]),s._v(" 指向最后调用当前代码的那个对象。相信大家都很熟悉 "),t("code",[s._v("this")]),s._v("，因此这里我就进行结论性的简单总结。")]),s._v(" "),t("p",[s._v("根据 "),t("code",[s._v("JavaScript")]),s._v(" 中函数的调用方式不同，this的指向分为以下情况。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_16267850442886.png",alt:"img"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在全局环境中，"),t("code",[s._v("this")]),s._v(" 指向全局对象（在浏览器中为 "),t("code",[s._v("window")]),s._v("）")])]),s._v(" "),t("li",[t("p",[s._v("在函数内部，"),t("code",[s._v("this")]),s._v(" 的值取决于函数被调用的方式")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("函数作为对象的方法被调用，"),t("code",[s._v("this")]),s._v(" 指向调用这个方法的对象")])]),s._v(" "),t("li",[t("p",[s._v("函数用作构造函数时（使用"),t("code",[s._v("new")]),s._v(" 关键字），它的 "),t("code",[s._v("this")]),s._v(" 被绑定到正在构造的新对象")])]),s._v(" "),t("li",[t("p",[s._v("在类的构造函数中，"),t("code",[s._v("this")]),s._v(" 是一个常规对象，类中所有非静态的方法都会被添加到 "),t("code",[s._v("this")]),s._v(" 的原型中")])])])]),s._v(" "),t("li",[t("p",[s._v("在箭头函数中，"),t("code",[s._v("this")]),s._v(" 指向它被创建时的环境")])]),s._v(" "),t("li",[t("p",[s._v("使用 "),t("code",[s._v("apply")]),s._v("、"),t("code",[s._v("call")]),s._v("、"),t("code",[s._v("bind")]),s._v(" 等方式调用：根据 "),t("code",[s._v("API")]),s._v(" 不同，可切换函数执行的上下文环境，即 "),t("code",[s._v("this")]),s._v(" 绑定的对象")])])]),s._v(" "),t("p",[s._v("可以看到，"),t("code",[s._v("this")]),s._v(" 在不同的情况下会有不同的指向，在 "),t("code",[s._v("ES6")]),s._v(" 箭头函数还没出现之前，为了能正确获取某个运行环境下 "),t("code",[s._v("this")]),s._v(" 对象，我们常常会使用 "),t("code",[s._v("var that = this;、var self = this;")]),s._v(" 这样的代码将变量分配给 "),t("code",[s._v("this")]),s._v("，便于使用。这种方式降低了代码可读性，因此如今这种做法不再被提倡，通过正确使用箭头函数，我们可以更好地管理作用域。")]),s._v(" "),t("h2",{attrs:{id:"执行流程分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行流程分析"}},[s._v("#")]),s._v(" 执行流程分析")]),s._v(" "),t("p",[s._v("下面按照代码执行流的顺序对该图示进行详细说明")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope2.jpg",alt:"scope8"}})]),s._v(" "),t("p",[s._v("【1】代码执行流进入全局执行环境，并对全局执行环境中的代码进入声明提升(hoisting)")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope9.jpg",alt:"scope9"}})]),s._v(" "),t("p",[s._v("【2】执行流执行第1行代码 "),t("code",[s._v("var a = 1;")]),s._v("，对 "),t("code",[s._v("a")]),s._v(" 进行 "),t("code",[s._v("LHS")]),s._v(" 查询，给 "),t("code",[s._v("a")]),s._v(" 赋值1；执行流执行第2行代码 "),t("code",[s._v("var b = 2")]),s._v(";，对 "),t("code",[s._v("b")]),s._v(" 进行 "),t("code",[s._v("LHS")]),s._v(" 查询，给 "),t("code",[s._v("b")]),s._v(" 赋值2")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope10.jpg",alt:"scope10"}})]),s._v(" "),t("p",[s._v("【3】执行流执行第15行代码 "),t("code",[s._v("fn(0)")]),s._v(";，调用 "),t("code",[s._v("fn(0)")]),s._v(" 函数，此时执行流进入 "),t("code",[s._v("fn(0)")]),s._v(" 函数执行环境中，对该执行环境中的代码进行声明提升过程，并将实参 "),t("code",[s._v("0")]),s._v(" 赋值给形参 "),t("code",[s._v("x")]),s._v(" 中。此时执行环境栈中存在两个执行环境，"),t("code",[s._v("fn(0)")]),s._v(" 函数为当前执行流所在执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope11.jpg",alt:"scope11"}})]),s._v(" "),t("p",[s._v("【4】执行流执行第5行代码 "),t("code",[s._v("var a = 10;")]),s._v("，对 "),t("code",[s._v("a")]),s._v(" 进行 "),t("code",[s._v("LHS")]),s._v(" 查询，给 "),t("code",[s._v("a")]),s._v(" 赋值10")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope12.jpg",alt:"scope12"}})]),s._v(" "),t("p",[s._v("【5】执行流执行第12行代码 "),t("code",[s._v("bar(20)")]),s._v(";，调用 "),t("code",[s._v("bar(20)")]),s._v(" 函数，此时执行流进入 "),t("code",[s._v("bar(20)")]),s._v(" 函数执行环境中，对该执行环境中的代码进行声明提升过程，并将实参 20 赋值给形参 "),t("code",[s._v("x")]),s._v(" 中。此时执行环境栈中存在三个执行环境，"),t("code",[s._v("bar(20)")]),s._v(" 函数为当前执行流所在执行环境")]),s._v(" "),t("p",[s._v("在声明提升的过程中，由于 "),t("code",[s._v("b")]),s._v(" 是个自由变量，需要通过 "),t("code",[s._v("bar()")]),s._v(" 函数的作用域链 "),t("code",[s._v("bar() -> fn() -> 全局作用域")]),s._v(" 进行查找，最终在全局作用域中也就是代码第2行找到 "),t("code",[s._v("var b = 2")]),s._v(";，然后在全局执行环境中找到"),t("code",[s._v("b")]),s._v(" 的值是2，所以给 "),t("code",[s._v("b")]),s._v(" 赋值2")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope13.png",alt:"scope13"}})]),s._v(" "),t("p",[s._v("【6】执行流执行第8行代码 "),t("code",[s._v("var a = 100;")]),s._v("，给 "),t("code",[s._v("a")]),s._v(" 赋值100；执行流执行第9行 "),t("code",[s._v("b = x + a;")]),s._v("，对 "),t("code",[s._v("x")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("x")]),s._v(" 的值是 20，对 "),t("code",[s._v("a")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("a")]),s._v(" 的值是100，所以通过计算 "),t("code",[s._v("b")]),s._v(" 的值是120，给 "),t("code",[s._v("b")]),s._v(" 赋值120；执行第10行代码 "),t("code",[s._v("return b;")]),s._v("，对 "),t("code",[s._v("b")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("b")]),s._v(" 的值是120，所以函数返回值为120")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope14.png",alt:"scope14"}})]),s._v(" "),t("p",[s._v("【7】执行流执行完第10行代码后，"),t("code",[s._v("bar(20)")]),s._v(" 的执行环境被弹出执行环境栈，并被销毁，等待垃圾回收，控制权交还给 "),t("code",[s._v("fn(0)")]),s._v(" 函数的执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope15.png",alt:"scope15"}})]),s._v(" "),t("p",[s._v("【8】执行流执行第13行代码 "),t("code",[s._v("bar(200)")]),s._v(";，调用 "),t("code",[s._v("bar(200)")]),s._v(" 函数，此时执行流进入 "),t("code",[s._v("bar(200)")]),s._v(" 函数执行环境中，对该执行环境中的代码进行声明提升过程，并将实参200赋值给形参 "),t("code",[s._v("x")]),s._v(" 中。此时执行环境栈中存在三个执行环境，"),t("code",[s._v("bar(200)")]),s._v(" 函数为当前执行流所在执行环境")]),s._v(" "),t("p",[s._v("与第5步相同，在声明提升的过程中，由于b是个自由变量，需要通过"),t("code",[s._v("bar()")]),s._v(" 函数的作用域链 "),t("code",[s._v("bar() -> fn() -> 全局作用域")]),s._v(" 进行查找，最终在全局作用域中也就是代码第2行找到 "),t("code",[s._v("var b = 2;")]),s._v("，然后在全局执行环境中找到 "),t("code",[s._v("b")]),s._v(" 的值是2，所以给 "),t("code",[s._v("b")]),s._v(" 赋值 2")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope16.png",alt:"scope16"}})]),s._v(" "),t("p",[s._v("【9】与第6步相同，执行流执行第8行代码 "),t("code",[s._v("var a = 100;")]),s._v("，给 "),t("code",[s._v("a")]),s._v(" 赋值 "),t("code",[s._v("100")]),s._v("；执行流执行第9行 "),t("code",[s._v("b = x + a;")]),s._v("，对 "),t("code",[s._v("x")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("x")]),s._v(" 的值是 20，对 "),t("code",[s._v("a")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("a")]),s._v(" 的值是100，所以通过计算 "),t("code",[s._v("b")]),s._v(" 的值是120，给 "),t("code",[s._v("b")]),s._v(" 赋值120；执行第10行代码"),t("code",[s._v("return b;")]),s._v("，对 "),t("code",[s._v("b")]),s._v(" 进行 "),t("code",[s._v("RHS")]),s._v(" 查询，找到 "),t("code",[s._v("b")]),s._v(" 的值是120，所以函数返回值为120")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope17.png",alt:"scope17"}})]),s._v(" "),t("p",[s._v("【10】执行流执行完第10行代码后，"),t("code",[s._v("bar(200)")]),s._v(" 的执行环境被弹出执行环境栈，并被销毁，等待垃圾回收，控制权交还给 "),t("code",[s._v("fn(0)")]),s._v(" 函数的执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope18.png",alt:"scope18"}})]),s._v(" "),t("p",[s._v("【11】执行流执行第14行代码}，"),t("code",[s._v("fn(0)")]),s._v(" 的执行环境被弹出执行环境栈，并被销毁，等待垃圾回收，控制权交还给全局执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope19.png",alt:"scope19"}})]),s._v(" "),t("p",[s._v("【12】当页面关闭时，全局执行环境被销毁，页面再无执行环境")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_scope20.jpg",alt:"scope20"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);