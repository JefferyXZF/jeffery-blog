---
author: 
  name: jeffery
  link: https://github.com/JefferyXZF
title: CSS属性
date: 2021-01-17 19:20:10
permalink: /pages/ses76wfec95e3
categories: 
  - CSS
tags: 
  - CSS
---

# CSS属性

## 定位

- position
- z-index

### position

| 值       | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| absolute | 生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位，如果父级不是，会一直往上到 body，脱离文档流 |
| fixed    | 生成固定定位的元素，相对于浏览器窗口进行定位，脱离文档流。（老 IE 不支持） |
| relative | 生成相对定位的元素，相对于其正常位置进行定位，不脱离文档流。 |
| static   | 默认值。没有定位，元素出现在正常的文档流中（忽略 top, bottom, left, right 或者 z-index 声明）。 |
| inherit  | 规定应该从父元素继承 position 属性的值。                     |
| sticky   | 粘性定位可以被认为是相对定位和固定定位的混合。元素在跨越特定阈值前为相对定位，之后为固定定位。主要用于 scroll 事件的监听上。[详情](https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2Fposition) |

**absolute 的 containing block(容器块)计算方式跟正常流有什么不同？**

无论属于哪种，都要先找到其祖先元素中最近的 position 值不为 static 的元素，然后再判断：

1. 若此元素为 inline 元素，则 containing block 为能够包含这个元素生成的第一个和最后一个 inline box 的 padding box （除 margin, border 外的区域）的最小矩形；
2. 否则,则由这个祖先元素的 padding box 构成。

如果都找不到，则为 initial containing block。

补充：

1. `static`（默认的）/ `relative`：简单说就是它的父元素的内容框（即去掉 `padding` 的部分）
2. `absolute`: 向上找最近的定位为 `absolute/relative` 的元素
3. `fixed`: 它的 containing block 一律为根元素（`html/body`），根元素也是 initial containing block

### z-index

`z-index` 用于提高元素层级关系，数值越大层级越高。

注意事项：

- 被使用的元素必须是定位元素，即元素 `position` 属性值必须为 `absolute`、`relative` 或 `fixed`等非 `static` 元素上
- 父节点的层叠性影响着子节点的层叠性，也就是父节点 `z-index` 值很小，无论子节点的 `z-index` 值多大，其层级仍然很小
- 如果没有 `z-index` 值，或者值相同，谁在 HTML 后面，谁的层叠行就更高



## 盒模型

- box-sizing
- display
- width & height
- margin
- padding
- border
- border-color
- border-radius
- border-style
- border-width
- box-shadow

### display

| 值           | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| inline       | 默认。此元素会被显示为内联元素，元素前后没有换行符。         |
| block        | 此元素将显示为块级元素，此元素前后会带有换行符。             |
| none         | 此元素不会被显示（隐藏）。                                   |
| inline-block | 行内块元素。（CSS2.1 新增的值）                              |
| list-item    | 此元素会作为列表显示。                                       |
| table        | 此元素会作为块级表格来显示（类似 table），表格前后带有换行符 |

#### 使用 `display: inline-block` 时奇怪的空隙

给两个或两个以上的元素设置 `display: inline-block` 或者 `display: inline`，将会导致它们之间产生一个微小的空隙。原因是浏览器会将元素当作字词去解释，从而给每个元素之间添加一个字符的空隙。

下面的例子中，每个项目的右侧都有一个 `8px` 的空隙，但是使用 `display: inline-block` 而产生的小空隙将会使其变为 `12px`，这不是我们想要的效果。

```css
li:not(:last-child) {
  margin-right: 8px;
}
```

https://ask.qcloudimg.com/draft/6430183/kvfewwshv4.png?imageView2/2/w/1620

通过给父元素设置 `font-size: 0` 可以简单地解决这个问题。

```css
ul {
  font-size: 0;
}
li {
  /* 应该在这里重新设置字体大小，因为它会从父元素继承 `font-size: 0` */
  font-size: 16px;
}
```

https://ask.qcloudimg.com/draft/6430183/az3oycwzvc.png?imageView2/2/w/1620

### width & height

块级元素的流体特性主要体现在水平方向上。

`width` 默认值是 `auto`。它所表现的含义是：

- **充分利用可用空间**：例如 `<div>`、`<p>` 这些元素的宽度默认是 100% 于父级容器的，这种充分利用空间行为称为 **fill-available**
- **收缩与包裹**：典型代表就是浮动、绝对定位、`inline-block` 元素或 `table` 元素，称为 **shrink-to-fit** 收缩到合适，CSS3 中 `fit-content` 就是这种宽度的表现
- **收缩到最小**：这个最容易出现在 `table-layout` 为 `auto` 的表格中
- **超出容器限制**：除非有明确的 width 相关设置，否则上面 3 种情况尺寸都不会主动超过父级容器宽度，但是也存在一些特殊情况。例如，内容很长的连续的英文和数字，或者内联元素被设置了 `white-space: nowrap`

除了盒子模型分为内在盒子和外在盒子，显示分内部显示和外部显示，同样地，尺寸也分**内部尺寸**和**外部尺寸**。

#### 外部尺寸与流体特性

##### 正常流宽度

```css
a {
  display: block;
  width: 100%;
}
```

标签元素 display 属性默认为 inline，因此设置 display: block 使其块状化绝对没有问题，但后面设置的 width: 100% 则会使其失去了流动性。

所谓流动性并非看上去的宽度 100% 显示那么简单，而是一种 margin/border/padding/content 内容区域自动分配水平空间的机制。

##### 格式化宽度

格式化宽度仅在出现在**绝对定位模型**中，也就是出现在 `position` 属性值为 `absolute` 或 `fixed` 的元素中。在默认情况下，绝对定位元素的宽度表现是**包裹性**，宽度由内部尺寸决定。

而对于非替换元素，当 `left/right` 或 `top/bottom` 对立方位的属性值同时存在时，元素的宽度表现为**格式化宽度**，其宽度大小相对于最近的具有定位特性（`position` 属性值不是 `static`）的祖先元素计算。

🌰 **示例：**

```css
div {
  position: absolute;
  left: 20px;
  right: 20px;
}
```

假设该 `<div>` 元素最近的具有定位特性的祖先元素的宽度是 1000 像素，则这个 `<div>` 元素的宽度是 960（即 1000-20-20）像素。

#### 内部尺寸与流体特性

内部尺寸指元素的尺寸由内部的元素决定，而非由外部容器决定。通过判断元素内是否由内容，也就是宽度为 0 时，则该元素宽度为内部尺寸。

##### 包裹性

##### 首选最小宽度

**首选最小宽度**指元素最适合的最小宽度。

若外部容器宽度为 240 像素，内部元素宽度设为 0，`inline-block` 元素的宽度根据其内部的图文表现。

- 东亚文字最小宽度为每个汉字的宽度
- 西方最小宽度由特定的连续的英文字符单元决定。并非所有的英文字符都会组成连续单元，一般会终止于空格（普通空格）、短横线、问号以及其他非英文字符等。

### border



## 内容

- font
- text

### font

- `serif`（衬线字体）
- `sans-serif`（非衬线字体）
- `monospace`（等宽字体，例如代码）
- `cursive`（方正静蕾体）
- `fantasy`

### 多字体反馈机制

指定多个字体，如果找不到会按照顺序使用其他字体，或者用同类字体。

### 自定义字体

**自定义字体**

```css
@font-face {  font-family: 'IF';  src: url('./IndieFlower.ttf');}
.custom-font {  font-family: IF;}
```

**网络字体**

- iconfont
- 先把只有一个平台才有的写到最前面
- 引用远程字体有问题的话，要注意跨域问题
- 阿里巴巴的图标库，自选 iconfont.cn

> 需要注意跨域问题

## text

### 行高

相关属性：`line-height`

### 构成

- 行高由 `line-box` 决定
- `line-hight` 会撑起 `inline-box` 的高度，并不会影响本身布局的高度，但是会影响外部元素（line-box）
- `inline-box` 组成 `line-box`，`line-box` 高度是由 `inline-box` 决定

### 现象

- 一般做垂直居中用 `line-height` 做就行了
- 默认情况是按照 `base-line` 对齐，如果要居中对齐就用 `vertical-align: middle`
- 底线、顶线和文字的顶和文字的底是不一样的

### 图片间隙问题

原理：按照 `inline` 排版，如果按照 `inline` 排版的话，默认按照基线排版（base-line）

基线和底线之间有距离的，如果 12px 字体那么缝隙可能就是 3px 解决方案：按照底线对齐，`vertical-align:bottom` 或者 `display:block`

## 文本段落

- ```
  white-space
  ```

  ：用于设置如何处理元素中的空白

  - `normal`：默认，空白会被浏览器忽略
  - `pre`：空白会被浏览器保留，其行为方式类似 HTML 的 `pre` 标签
  - `nowrap`：文本不会换行，文本会在同一行的

- `word-wrap`

- `word-break`

- `text-overflow`



## 背景

- background 背景
- background-clip
- background-color
- background-image
- background-origin
- background-position
- background-repeat
- background-size

### 背景颜色

- HSL
  - H：Hue（色调）。0（或 360）表示红色，120 表示绿色，240 表示蓝色，也可取其他数值来指定颜色。取值为：0 - 360
  - S：Saturation（饱和度）。取值为：0.0% - 100.0%
  - L：Lightness（亮度）。取值为：0.0% - 100.0% `background:hsl(0,100%,50%)`
- RGB(A)
- 背景图

渐变色 多背景叠加

### 雪碧图

**优点**

- 减少加载网页图片时对服务器的请求次数
- 提高页面的加载速度

由所需图片拼成的一张 GIF 图片的尺寸会明显小于所有图片拼合前的大小。 单张的 GIF 只有相关的一个色表，而单独分割的每一张 GIF 都有自己的一个色表，这就增加了总体的大小。 因此，单独的一张 JPEG 或者 PNG sprite 在大小上非常可能比把一张图分成多张得来的图片总尺寸小

**缺点**

- 单个图片大小，考虑网络环境比较差的情况
- 内存使用问题。大量空白你就会最终使用大量的无用的空白。

一个例子是来自于 WHIT TV 的网站，注意这是一个 1299×15000 像素的 PNG 图片。它也被压缩的很好——实际下载大小只有大概 26K，但是浏览器并不会渲染压缩后的图片数据。当这个图片被下载并被解压缩之后

### base64

一种文本格式，显示的是一串文本，而这串文本就是图片本身。

**优点**

- 传输性能，减少 HTTP 请求

**缺点**

- 增大了体积的开销
  - 图片本身提交增大 1/3
  - 增大 CSS 体积
- 增加了解码的开销

适用：小图标，例如：Loading 图

用法：一般用在构建中转，打包

### 缩或拉伸图片

用 CSS 调整一张图片大小的时，如果纵横比与图片的宽度不一致，则图片会被压缩或拉伸。

解决方案很简单：使用 CSS 的 `object-fit`。它的功能和给背景图片设置 `background-size: cover` 类似。

```css
img {
  object-fit: cover;
}
```

`object-fit` 并非百试百灵。一些图片必须在不裁剪或者不调整大小的情况下显示，并且某些平台会强制用户以特定的尺寸裁剪或上传图片。例如，Dribbble 规定上传的缩略图尺寸为 800 x 600 像素。



## 变形

- transform 变形基础
- rotate 旋转
- scale 缩放
- translate 位移
- skew 倾斜
- matrix 矩形变形
- perspective 透视
- perspective-origin 透视原点
- transform-origin 变形原点
- transofrm-style 3D 呈现
- backface-visibility 隐藏内容


## 参考资料

- [CSS 参考手册](http://css.doyoe.com/)
- [CSS 资源大全中文版](https://github.com/jobbole/awesome-css-cn)
- [从零开始の CSS 学习笔记——定位 ](https://juejin.im/post/6859685615269576718)
- [MDN web docs #CSS](https://developer.mozilla.org/zh-CN/docs/Web/CSS)
- [W3Help](http://w3help.org/zh-cn/kb/)
