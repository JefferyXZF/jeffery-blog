<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 优化技术《三》 | jeffery&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/jeffery-blog/img/avatar.jpeg">
    <meta name="description" content="前端博客, 技术, 前端, 前端开发">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/jeffery-blog/assets/css/0.styles.308e0e77.css" as="style"><link rel="preload" href="/jeffery-blog/assets/js/app.83625c55.js" as="script"><link rel="preload" href="/jeffery-blog/assets/js/2.bf7bcbb7.js" as="script"><link rel="preload" href="/jeffery-blog/assets/js/3.5eaeddd5.js" as="script"><link rel="preload" href="/jeffery-blog/assets/js/117.4a5d0246.js" as="script"><link rel="prefetch" href="/jeffery-blog/assets/js/10.a8579e49.js"><link rel="prefetch" href="/jeffery-blog/assets/js/100.780a939d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/101.f5009056.js"><link rel="prefetch" href="/jeffery-blog/assets/js/102.97cab018.js"><link rel="prefetch" href="/jeffery-blog/assets/js/103.1b40b72e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/104.ae202f37.js"><link rel="prefetch" href="/jeffery-blog/assets/js/105.1be07d48.js"><link rel="prefetch" href="/jeffery-blog/assets/js/106.6379b6a0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/107.35536b04.js"><link rel="prefetch" href="/jeffery-blog/assets/js/108.770436e1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/109.a76bc048.js"><link rel="prefetch" href="/jeffery-blog/assets/js/11.7290ea27.js"><link rel="prefetch" href="/jeffery-blog/assets/js/110.2e56425a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/111.a092fdce.js"><link rel="prefetch" href="/jeffery-blog/assets/js/112.157fbaab.js"><link rel="prefetch" href="/jeffery-blog/assets/js/113.3c96e130.js"><link rel="prefetch" href="/jeffery-blog/assets/js/114.ae3469ee.js"><link rel="prefetch" href="/jeffery-blog/assets/js/115.e339addf.js"><link rel="prefetch" href="/jeffery-blog/assets/js/116.fe82a53d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/118.019804d4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/119.72a1f125.js"><link rel="prefetch" href="/jeffery-blog/assets/js/12.58837c83.js"><link rel="prefetch" href="/jeffery-blog/assets/js/120.02db4ab6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/121.bc7528de.js"><link rel="prefetch" href="/jeffery-blog/assets/js/122.f7bb8f81.js"><link rel="prefetch" href="/jeffery-blog/assets/js/123.e2a0fd33.js"><link rel="prefetch" href="/jeffery-blog/assets/js/124.ee81c44a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/125.2954d8f5.js"><link rel="prefetch" href="/jeffery-blog/assets/js/126.064c70f5.js"><link rel="prefetch" href="/jeffery-blog/assets/js/127.10d4f526.js"><link rel="prefetch" href="/jeffery-blog/assets/js/128.04b0cb17.js"><link rel="prefetch" href="/jeffery-blog/assets/js/129.8e3f7578.js"><link rel="prefetch" href="/jeffery-blog/assets/js/13.c29d86ea.js"><link rel="prefetch" href="/jeffery-blog/assets/js/130.9a15f51a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/131.c1568cc1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/132.2b659e91.js"><link rel="prefetch" href="/jeffery-blog/assets/js/133.068b1f55.js"><link rel="prefetch" href="/jeffery-blog/assets/js/134.9d0c9f2a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/135.232f881f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/136.a39f799e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/137.89d75ddc.js"><link rel="prefetch" href="/jeffery-blog/assets/js/138.e62e1190.js"><link rel="prefetch" href="/jeffery-blog/assets/js/139.6e193ab1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/14.9818298c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/140.51b2cbd6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/141.81bbb3ac.js"><link rel="prefetch" href="/jeffery-blog/assets/js/142.2ea5d7fe.js"><link rel="prefetch" href="/jeffery-blog/assets/js/143.4d972e77.js"><link rel="prefetch" href="/jeffery-blog/assets/js/144.3f6ed081.js"><link rel="prefetch" href="/jeffery-blog/assets/js/145.d064ab6c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/146.8cecdab3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/147.99ee7910.js"><link rel="prefetch" href="/jeffery-blog/assets/js/148.9a463452.js"><link rel="prefetch" href="/jeffery-blog/assets/js/149.1eb368c5.js"><link rel="prefetch" href="/jeffery-blog/assets/js/15.7649be92.js"><link rel="prefetch" href="/jeffery-blog/assets/js/150.5a514368.js"><link rel="prefetch" href="/jeffery-blog/assets/js/151.3bbdd6a0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/152.eda07b9d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/153.12f9c5b2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/154.a3a49a28.js"><link rel="prefetch" href="/jeffery-blog/assets/js/155.1ceb04d8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/156.f7db6f29.js"><link rel="prefetch" href="/jeffery-blog/assets/js/157.0e748dff.js"><link rel="prefetch" href="/jeffery-blog/assets/js/158.4e3adb5b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/159.2762926a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/16.aa79961f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/160.922f65b1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/161.daccc5e6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/162.dd3e04b4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/163.afa82905.js"><link rel="prefetch" href="/jeffery-blog/assets/js/164.6c35aee3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/165.9e6b2867.js"><link rel="prefetch" href="/jeffery-blog/assets/js/166.bbbb89d8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/167.5778ef02.js"><link rel="prefetch" href="/jeffery-blog/assets/js/168.90d5bbec.js"><link rel="prefetch" href="/jeffery-blog/assets/js/169.6087c981.js"><link rel="prefetch" href="/jeffery-blog/assets/js/17.1198578b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/170.56dcd43e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/171.ea408e45.js"><link rel="prefetch" href="/jeffery-blog/assets/js/172.5d584d6c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/173.68483659.js"><link rel="prefetch" href="/jeffery-blog/assets/js/174.190ee715.js"><link rel="prefetch" href="/jeffery-blog/assets/js/175.ce60baa2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/176.aacd896a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/177.a8424df2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/178.e9ab5de4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/179.2ac59200.js"><link rel="prefetch" href="/jeffery-blog/assets/js/18.78f60ee7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/180.af1dff0f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/181.8c6bdff4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/182.13167324.js"><link rel="prefetch" href="/jeffery-blog/assets/js/183.6b5439f3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/184.4744aa06.js"><link rel="prefetch" href="/jeffery-blog/assets/js/185.cd2d63fe.js"><link rel="prefetch" href="/jeffery-blog/assets/js/186.db0da7d6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/187.a43670a1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/188.ffcb3173.js"><link rel="prefetch" href="/jeffery-blog/assets/js/189.5e0763dc.js"><link rel="prefetch" href="/jeffery-blog/assets/js/19.4ac16ebd.js"><link rel="prefetch" href="/jeffery-blog/assets/js/190.00e65c38.js"><link rel="prefetch" href="/jeffery-blog/assets/js/191.150368f3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/192.a454a765.js"><link rel="prefetch" href="/jeffery-blog/assets/js/193.a6001d67.js"><link rel="prefetch" href="/jeffery-blog/assets/js/194.2e3efb9c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/195.5df54d5b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/196.406f27f8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/197.7d68cbc5.js"><link rel="prefetch" href="/jeffery-blog/assets/js/198.1eefa39b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/199.be54a961.js"><link rel="prefetch" href="/jeffery-blog/assets/js/20.856b368b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/200.4f83b03e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/201.9e93e40b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/202.ccec6ec6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/203.34cc57cb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/204.a79d5f11.js"><link rel="prefetch" href="/jeffery-blog/assets/js/205.418b38c8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/206.36df9d29.js"><link rel="prefetch" href="/jeffery-blog/assets/js/207.31ef28ff.js"><link rel="prefetch" href="/jeffery-blog/assets/js/208.eb499313.js"><link rel="prefetch" href="/jeffery-blog/assets/js/209.d746d894.js"><link rel="prefetch" href="/jeffery-blog/assets/js/21.fee17e2e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/210.0dee1386.js"><link rel="prefetch" href="/jeffery-blog/assets/js/211.6d63c693.js"><link rel="prefetch" href="/jeffery-blog/assets/js/212.c683618d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/213.e1672d08.js"><link rel="prefetch" href="/jeffery-blog/assets/js/214.49cd0e3a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/215.35575e23.js"><link rel="prefetch" href="/jeffery-blog/assets/js/216.d568a237.js"><link rel="prefetch" href="/jeffery-blog/assets/js/217.c7a6f37e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/218.3770acd2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/219.ba9702a0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/22.34da99e9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/220.7364a4f7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/221.40554283.js"><link rel="prefetch" href="/jeffery-blog/assets/js/222.e66c039b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/223.13bb1e1b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/224.d13a6a63.js"><link rel="prefetch" href="/jeffery-blog/assets/js/225.11b02191.js"><link rel="prefetch" href="/jeffery-blog/assets/js/226.d41f6e27.js"><link rel="prefetch" href="/jeffery-blog/assets/js/227.fb76eff0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/228.f464d335.js"><link rel="prefetch" href="/jeffery-blog/assets/js/229.caabd16e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/23.33a86bbb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/230.653dc6be.js"><link rel="prefetch" href="/jeffery-blog/assets/js/231.090c6c0c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/232.d092f2b8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/233.36dc999b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/234.103fec59.js"><link rel="prefetch" href="/jeffery-blog/assets/js/235.1828c5a7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/236.fe915adf.js"><link rel="prefetch" href="/jeffery-blog/assets/js/237.1e5e2b04.js"><link rel="prefetch" href="/jeffery-blog/assets/js/238.bbc00b08.js"><link rel="prefetch" href="/jeffery-blog/assets/js/239.1e3b23e3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/24.92603182.js"><link rel="prefetch" href="/jeffery-blog/assets/js/240.6dede426.js"><link rel="prefetch" href="/jeffery-blog/assets/js/241.cabcb4ab.js"><link rel="prefetch" href="/jeffery-blog/assets/js/242.69fe1037.js"><link rel="prefetch" href="/jeffery-blog/assets/js/243.f8423091.js"><link rel="prefetch" href="/jeffery-blog/assets/js/244.b7b886d7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/245.9c406df1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/246.c3552ebf.js"><link rel="prefetch" href="/jeffery-blog/assets/js/247.f2066429.js"><link rel="prefetch" href="/jeffery-blog/assets/js/248.bb6f1360.js"><link rel="prefetch" href="/jeffery-blog/assets/js/249.0e561382.js"><link rel="prefetch" href="/jeffery-blog/assets/js/25.0ea56885.js"><link rel="prefetch" href="/jeffery-blog/assets/js/250.e80cfd04.js"><link rel="prefetch" href="/jeffery-blog/assets/js/251.44336c80.js"><link rel="prefetch" href="/jeffery-blog/assets/js/252.4dd341ce.js"><link rel="prefetch" href="/jeffery-blog/assets/js/253.de9fd279.js"><link rel="prefetch" href="/jeffery-blog/assets/js/254.2583e415.js"><link rel="prefetch" href="/jeffery-blog/assets/js/255.e2ebcfff.js"><link rel="prefetch" href="/jeffery-blog/assets/js/256.fa1826e5.js"><link rel="prefetch" href="/jeffery-blog/assets/js/257.c4654a47.js"><link rel="prefetch" href="/jeffery-blog/assets/js/258.9ff29093.js"><link rel="prefetch" href="/jeffery-blog/assets/js/259.20b0b73e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/26.cbcc4c3a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/260.c50f41e3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/261.6bfc5502.js"><link rel="prefetch" href="/jeffery-blog/assets/js/262.8482b261.js"><link rel="prefetch" href="/jeffery-blog/assets/js/263.7f5d02bf.js"><link rel="prefetch" href="/jeffery-blog/assets/js/264.a7893c9f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/265.db3b0049.js"><link rel="prefetch" href="/jeffery-blog/assets/js/266.f47cdcac.js"><link rel="prefetch" href="/jeffery-blog/assets/js/267.79d75eef.js"><link rel="prefetch" href="/jeffery-blog/assets/js/268.d32f6edd.js"><link rel="prefetch" href="/jeffery-blog/assets/js/269.d0188980.js"><link rel="prefetch" href="/jeffery-blog/assets/js/27.7466c2ff.js"><link rel="prefetch" href="/jeffery-blog/assets/js/270.024be80d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/271.d7c0b468.js"><link rel="prefetch" href="/jeffery-blog/assets/js/272.c6ec204d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/273.272be6c0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/274.fb1c8321.js"><link rel="prefetch" href="/jeffery-blog/assets/js/275.ea952e63.js"><link rel="prefetch" href="/jeffery-blog/assets/js/276.dd55424d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/277.aadfd0de.js"><link rel="prefetch" href="/jeffery-blog/assets/js/278.b1e05a4a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/279.4b0ffa14.js"><link rel="prefetch" href="/jeffery-blog/assets/js/28.92d7e5d7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/280.8673c9a2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/281.54d6bfb8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/282.3f1c2c68.js"><link rel="prefetch" href="/jeffery-blog/assets/js/283.acd6341a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/284.aaa32d4c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/285.f4918965.js"><link rel="prefetch" href="/jeffery-blog/assets/js/286.90d9514c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/287.d311caa1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/288.e034eedb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/289.189ed470.js"><link rel="prefetch" href="/jeffery-blog/assets/js/29.3f90fb86.js"><link rel="prefetch" href="/jeffery-blog/assets/js/290.3193d7b8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/291.1d6f09f6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/292.7131c5be.js"><link rel="prefetch" href="/jeffery-blog/assets/js/293.b11b45df.js"><link rel="prefetch" href="/jeffery-blog/assets/js/294.43226d73.js"><link rel="prefetch" href="/jeffery-blog/assets/js/295.a94aaf14.js"><link rel="prefetch" href="/jeffery-blog/assets/js/296.3f0ddb10.js"><link rel="prefetch" href="/jeffery-blog/assets/js/297.59e4a937.js"><link rel="prefetch" href="/jeffery-blog/assets/js/298.a28da1a6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/299.1a2b8bf9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/30.4225c7e3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/300.55c8cac8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/301.3c05bbe3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/302.912fbef8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/303.ccc2baa4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/304.4bb2b24a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/305.3860671f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/306.e837b46c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/307.107c0e27.js"><link rel="prefetch" href="/jeffery-blog/assets/js/308.d7f1e6d2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/309.9213a9cf.js"><link rel="prefetch" href="/jeffery-blog/assets/js/31.890aea77.js"><link rel="prefetch" href="/jeffery-blog/assets/js/310.0feaebce.js"><link rel="prefetch" href="/jeffery-blog/assets/js/311.81206671.js"><link rel="prefetch" href="/jeffery-blog/assets/js/312.3cfe2f89.js"><link rel="prefetch" href="/jeffery-blog/assets/js/313.cb2e991b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/314.63a31d16.js"><link rel="prefetch" href="/jeffery-blog/assets/js/315.63a42df2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/316.0206bfcb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/317.a4022235.js"><link rel="prefetch" href="/jeffery-blog/assets/js/318.98ce8f18.js"><link rel="prefetch" href="/jeffery-blog/assets/js/319.581750dd.js"><link rel="prefetch" href="/jeffery-blog/assets/js/32.0ab8dafe.js"><link rel="prefetch" href="/jeffery-blog/assets/js/320.1cedeaf1.js"><link rel="prefetch" href="/jeffery-blog/assets/js/321.dd6006d9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/322.a5b5547d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/323.ce9a153f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/324.8f1bf141.js"><link rel="prefetch" href="/jeffery-blog/assets/js/325.f2c41702.js"><link rel="prefetch" href="/jeffery-blog/assets/js/326.174bfb9a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/327.0bb9cdc6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/328.feee15cb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/329.65cbc489.js"><link rel="prefetch" href="/jeffery-blog/assets/js/33.7f1af0af.js"><link rel="prefetch" href="/jeffery-blog/assets/js/330.ea4c871b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/331.0aae4091.js"><link rel="prefetch" href="/jeffery-blog/assets/js/332.1e5e942a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/333.5487b116.js"><link rel="prefetch" href="/jeffery-blog/assets/js/334.23147d34.js"><link rel="prefetch" href="/jeffery-blog/assets/js/335.9fb0788e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/336.989445f4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/337.65208a68.js"><link rel="prefetch" href="/jeffery-blog/assets/js/338.b3c87785.js"><link rel="prefetch" href="/jeffery-blog/assets/js/339.e99eae4c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/34.81085115.js"><link rel="prefetch" href="/jeffery-blog/assets/js/340.33e74859.js"><link rel="prefetch" href="/jeffery-blog/assets/js/341.13bfd297.js"><link rel="prefetch" href="/jeffery-blog/assets/js/342.e45fd7fb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/343.1de64d54.js"><link rel="prefetch" href="/jeffery-blog/assets/js/344.22a79d21.js"><link rel="prefetch" href="/jeffery-blog/assets/js/345.ba7c409d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/346.defdeb10.js"><link rel="prefetch" href="/jeffery-blog/assets/js/347.88c08694.js"><link rel="prefetch" href="/jeffery-blog/assets/js/348.615ac5c0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/349.4445af99.js"><link rel="prefetch" href="/jeffery-blog/assets/js/35.3c52aa0f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/350.0d2a4126.js"><link rel="prefetch" href="/jeffery-blog/assets/js/351.097f0d5d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/352.46d0fc5a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/353.49938f07.js"><link rel="prefetch" href="/jeffery-blog/assets/js/354.aab0e7a4.js"><link rel="prefetch" href="/jeffery-blog/assets/js/355.31b30b5e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/356.829084bc.js"><link rel="prefetch" href="/jeffery-blog/assets/js/357.577fca54.js"><link rel="prefetch" href="/jeffery-blog/assets/js/358.ed0e517d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/36.128c94f8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/37.6c58b53e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/38.8d7c16b9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/39.59d130e8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/4.106f72a7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/40.a42fa8eb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/41.c19708ca.js"><link rel="prefetch" href="/jeffery-blog/assets/js/42.70c907d0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/43.70e4dd73.js"><link rel="prefetch" href="/jeffery-blog/assets/js/44.d1d1cf23.js"><link rel="prefetch" href="/jeffery-blog/assets/js/45.31af3728.js"><link rel="prefetch" href="/jeffery-blog/assets/js/46.422f6d3c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/47.72ca3d7c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/48.ccfd7c5e.js"><link rel="prefetch" href="/jeffery-blog/assets/js/49.a0326736.js"><link rel="prefetch" href="/jeffery-blog/assets/js/5.53c46908.js"><link rel="prefetch" href="/jeffery-blog/assets/js/50.ffca7e1d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/51.5b9f6859.js"><link rel="prefetch" href="/jeffery-blog/assets/js/52.327ef7f3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/53.7d1378b2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/54.8bc7f7ab.js"><link rel="prefetch" href="/jeffery-blog/assets/js/55.07b94104.js"><link rel="prefetch" href="/jeffery-blog/assets/js/56.5bded02f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/57.1424edc0.js"><link rel="prefetch" href="/jeffery-blog/assets/js/58.9744ce83.js"><link rel="prefetch" href="/jeffery-blog/assets/js/59.a4799af8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/6.6e14a410.js"><link rel="prefetch" href="/jeffery-blog/assets/js/60.6db90fd9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/61.332558f3.js"><link rel="prefetch" href="/jeffery-blog/assets/js/62.14e2cd44.js"><link rel="prefetch" href="/jeffery-blog/assets/js/63.c7b13775.js"><link rel="prefetch" href="/jeffery-blog/assets/js/64.f29e126b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/65.6e716182.js"><link rel="prefetch" href="/jeffery-blog/assets/js/66.83308f92.js"><link rel="prefetch" href="/jeffery-blog/assets/js/67.6ca1979f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/68.53279a3f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/69.c5a0bf3f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/7.baae31c8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/70.3f8a5e4f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/71.23e5e7b9.js"><link rel="prefetch" href="/jeffery-blog/assets/js/72.9a7f4116.js"><link rel="prefetch" href="/jeffery-blog/assets/js/73.6f46f0d8.js"><link rel="prefetch" href="/jeffery-blog/assets/js/74.b1aad59d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/75.720a2e8b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/76.46470119.js"><link rel="prefetch" href="/jeffery-blog/assets/js/77.cbd12e90.js"><link rel="prefetch" href="/jeffery-blog/assets/js/78.ffdf7505.js"><link rel="prefetch" href="/jeffery-blog/assets/js/79.29980400.js"><link rel="prefetch" href="/jeffery-blog/assets/js/8.10528653.js"><link rel="prefetch" href="/jeffery-blog/assets/js/80.caf4f95d.js"><link rel="prefetch" href="/jeffery-blog/assets/js/81.07348e7a.js"><link rel="prefetch" href="/jeffery-blog/assets/js/82.e44f574f.js"><link rel="prefetch" href="/jeffery-blog/assets/js/83.dcb15d53.js"><link rel="prefetch" href="/jeffery-blog/assets/js/84.47d5fde2.js"><link rel="prefetch" href="/jeffery-blog/assets/js/85.9595ac20.js"><link rel="prefetch" href="/jeffery-blog/assets/js/86.07044f9c.js"><link rel="prefetch" href="/jeffery-blog/assets/js/87.9a292715.js"><link rel="prefetch" href="/jeffery-blog/assets/js/88.714fb17b.js"><link rel="prefetch" href="/jeffery-blog/assets/js/89.5377c719.js"><link rel="prefetch" href="/jeffery-blog/assets/js/9.f52c1c75.js"><link rel="prefetch" href="/jeffery-blog/assets/js/90.20dce8e6.js"><link rel="prefetch" href="/jeffery-blog/assets/js/91.cdddf760.js"><link rel="prefetch" href="/jeffery-blog/assets/js/92.336fdd77.js"><link rel="prefetch" href="/jeffery-blog/assets/js/93.dca3dfca.js"><link rel="prefetch" href="/jeffery-blog/assets/js/94.0c313f46.js"><link rel="prefetch" href="/jeffery-blog/assets/js/95.2373fdd7.js"><link rel="prefetch" href="/jeffery-blog/assets/js/96.a9fba6cb.js"><link rel="prefetch" href="/jeffery-blog/assets/js/97.e41f9860.js"><link rel="prefetch" href="/jeffery-blog/assets/js/98.45ed71ca.js"><link rel="prefetch" href="/jeffery-blog/assets/js/99.e7292443.js">
    <link rel="stylesheet" href="/jeffery-blog/assets/css/0.styles.308e0e77.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jeffery-blog/" class="home-link router-link-active"><img src="/jeffery-blog/img/avatar.jpeg" alt="jeffery's blog" class="logo"> <span class="site-name can-hide">jeffery's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/jeffery-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><a href="/jeffery-blog/web/base/" class="link-title">前端基础</a> <span class="title" style="display:none;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/s23wes376fc95e3/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript体系" class="dropdown-title"><a href="/jeffery-blog/web/javascript/" class="link-title">JavaScript体系</a> <span class="title" style="display:none;">JavaScript体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/23a3errwdasweew/" class="nav-link">JS 基础</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sdedsee57cb/" class="nav-link">JS 进阶</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssll3bdf257cb/" class="nav-link">JS 实践</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/8143cc480faf9a11/" class="nav-link">JS 造轮子</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sswse3bdeef257ecb/" class="nav-link">JS V8引擎</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssseee57seecb/" class="nav-link">JS 设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue系列" class="dropdown-title"><a href="/jeffery-blog/frame/vue" class="link-title">Vue系列</a> <span class="title" style="display:none;">Vue系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/114158caa9e96df0/" class="nav-link">Vue 笔记</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/swwedeeds57cb/" class="nav-link">Vue 编程实践</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/802a1ca6f7b71c59/" class="nav-link">Vue 文章</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sswewe31ef7/" class="nav-link">Vue 源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><a href="/jeffery-blog/web/advanced/" class="link-title">前端进阶</a> <span class="title" style="display:none;">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ewrrsseeb/undefined.html" class="nav-link">浏览器工作原理</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sdda103s1ewewf7/" class="nav-link">性能优化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏学习笔记" class="dropdown-title"><!----> <span class="title" style="display:;">专栏学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/note/typescript-axios/" class="nav-link">TypeScript从零实现axios</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><a href="/jeffery-blog/engineer/" class="link-title">前端工程</a> <span class="title" style="display:none;">前端工程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ysedewdwew/" class="nav-link">前端工程系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/jeffery-blog/technology/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssseseddds/" class="nav-link">数据结构和算法</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sellseeeaddds/" class="nav-link">计算机网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档教程" class="dropdown-title"><!----> <span class="title" style="display:;">文档教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/nav/" class="nav-link">资源导航</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/imooc/wiki/" class="nav-link">慕课教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/es6/" class="nav-link">ES6 入门教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/wangdoc/javascript/" class="nav-link">网道-JavaScript 教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/react/" class="nav-link">React 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/vue/" class="nav-link">Vue 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/node/" class="nav-link">Node 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/babel/" class="nav-link">Babel 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/webpack/" class="nav-link">Webpack 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/typescript/" class="nav-link">TypeScript 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/runoob/" class="nav-link">菜鸟教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/docschina/" class="nav-link">印记中文</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏夹" class="dropdown-title"><!----> <span class="title" style="display:;">收藏夹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/eee83a9211a70f9d/" class="nav-link">学习资源</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/12seeemms493f6/" class="nav-link">优质资源</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/44207a5def0a8a/" class="nav-link">资源工具</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/05c534dbae294/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/jeffery-blog/pages/sseaeewweeew/" class="nav-link">插件使用</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/sdseee31ef7/" class="nav-link">低代码</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/about/" class="nav-link">关于我</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/f2weweweea556/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>索引</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/jeffery-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/archives/" class="nav-link">归档</a></li></ul></li></ul></div></div> <a href="https://github.com/JefferyXZF/jeffery-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/jeffery-blog/img/avatar.jpeg"> <div class="blogger-info"><h3>志非</h3> <span>进击吧，前端小蜗牛</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/jeffery-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><a href="/jeffery-blog/web/base/" class="link-title">前端基础</a> <span class="title" style="display:none;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/s23wes376fc95e3/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript体系" class="dropdown-title"><a href="/jeffery-blog/web/javascript/" class="link-title">JavaScript体系</a> <span class="title" style="display:none;">JavaScript体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/23a3errwdasweew/" class="nav-link">JS 基础</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sdedsee57cb/" class="nav-link">JS 进阶</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssll3bdf257cb/" class="nav-link">JS 实践</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/8143cc480faf9a11/" class="nav-link">JS 造轮子</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sswse3bdeef257ecb/" class="nav-link">JS V8引擎</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssseee57seecb/" class="nav-link">JS 设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue系列" class="dropdown-title"><a href="/jeffery-blog/frame/vue" class="link-title">Vue系列</a> <span class="title" style="display:none;">Vue系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/114158caa9e96df0/" class="nav-link">Vue 笔记</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/swwedeeds57cb/" class="nav-link">Vue 编程实践</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/802a1ca6f7b71c59/" class="nav-link">Vue 文章</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sswewe31ef7/" class="nav-link">Vue 源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><a href="/jeffery-blog/web/advanced/" class="link-title">前端进阶</a> <span class="title" style="display:none;">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ewrrsseeb/undefined.html" class="nav-link">浏览器工作原理</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sdda103s1ewewf7/" class="nav-link">性能优化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏学习笔记" class="dropdown-title"><!----> <span class="title" style="display:;">专栏学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/note/typescript-axios/" class="nav-link">TypeScript从零实现axios</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><a href="/jeffery-blog/engineer/" class="link-title">前端工程</a> <span class="title" style="display:none;">前端工程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ysedewdwew/" class="nav-link">前端工程系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/jeffery-blog/technology/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/ssseseddds/" class="nav-link">数据结构和算法</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/sellseeeaddds/" class="nav-link">计算机网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档教程" class="dropdown-title"><!----> <span class="title" style="display:;">文档教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/nav/" class="nav-link">资源导航</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/imooc/wiki/" class="nav-link">慕课教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/es6/" class="nav-link">ES6 入门教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/wangdoc/javascript/" class="nav-link">网道-JavaScript 教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/react/" class="nav-link">React 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/vue/" class="nav-link">Vue 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/node/" class="nav-link">Node 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/babel/" class="nav-link">Babel 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/webpack/" class="nav-link">Webpack 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/typescript/" class="nav-link">TypeScript 文档</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/runoob/" class="nav-link">菜鸟教程</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/web/docs/docschina/" class="nav-link">印记中文</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏夹" class="dropdown-title"><!----> <span class="title" style="display:;">收藏夹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/eee83a9211a70f9d/" class="nav-link">学习资源</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/12seeemms493f6/" class="nav-link">优质资源</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/44207a5def0a8a/" class="nav-link">资源工具</a></li><li class="dropdown-item"><!----> <a href="/jeffery-blog/pages/05c534dbae294/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/jeffery-blog/pages/sseaeewweeew/" class="nav-link">插件使用</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/sdseee31ef7/" class="nav-link">低代码</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/about/" class="nav-link">关于我</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/pages/f2weweweea556/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>索引</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/jeffery-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/jeffery-blog/archives/" class="nav-link">归档</a></li></ul></li></ul></div></div> <a href="https://github.com/JefferyXZF/jeffery-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>javascript实践</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jeffery-blog/pages/ssll3bdf257cb/" class="sidebar-link">JavaScript 优化技术《一》</a></li><li><a href="/jeffery-blog/pages/sseseweweb/" class="sidebar-link">JavaScript 优化技术《二》</a></li><li><a href="/jeffery-blog/pages/ewrrsseeb/" aria-current="page" class="active sidebar-link">JavaScript 优化技术《三》</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#加载和运行" class="sidebar-link">加载和运行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#脚本位置" class="sidebar-link">脚本位置</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#脚本合并" class="sidebar-link">脚本合并</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#defer-async" class="sidebar-link">defer &amp; async</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#动态脚本" class="sidebar-link">动态脚本</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#监听加载函数" class="sidebar-link">监听加载函数</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#xhr-注入" class="sidebar-link">XHR 注入</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#数据访问" class="sidebar-link">数据访问</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#在-javascript-中有四种基本的数据访问位置：" class="sidebar-link">在 JavaScript 中有四种基本的数据访问位置：</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-2" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#dom-编程" class="sidebar-link">DOM 编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#dom-访问和修改" class="sidebar-link">DOM 访问和修改</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#节点克隆" class="sidebar-link">节点克隆</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#当布局和几何改变时发生重排版，下述情况会发生：" class="sidebar-link">当布局和几何改变时发生重排版，下述情况会发生：</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#减少重排次数" class="sidebar-link">减少重排次数</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-3" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#算法与流程控制" class="sidebar-link">算法与流程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#loops" class="sidebar-link">Loops</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#条件表达式" class="sidebar-link">条件表达式</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-4" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#字符串和正则表达式-string-and-regular-expression" class="sidebar-link">字符串和正则表达式 String And Regular Expression</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#字符串链接-stirng-concatenation" class="sidebar-link">字符串链接 Stirng Concatenation</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#regular-expression-optimization-正则表达式优化" class="sidebar-link">Regular Expression Optimization 正则表达式优化</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-5" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#响应接口" class="sidebar-link">响应接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#浏览器-ui-线程" class="sidebar-link">浏览器 UI 线程</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#定时器基础" class="sidebar-link">定时器基础</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#定时器精度" class="sidebar-link">定时器精度</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-6" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#ajax" class="sidebar-link">Ajax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#请求数据" class="sidebar-link">请求数据</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#xmlhttprequest" class="sidebar-link">XMLHttpRequest</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#动态脚本标签插入" class="sidebar-link">动态脚本标签插入</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#发送数据" class="sidebar-link">发送数据</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#数据格式" class="sidebar-link">数据格式</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#ajax-性能向导" class="sidebar-link">Ajax 性能向导</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-7" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#编程实践" class="sidebar-link">编程实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#原生方法" class="sidebar-link">原生方法</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#总结-8" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#创建并部署高性能-javascript-应用程序" class="sidebar-link">创建并部署高性能 JavaScript 应用程序</a></li><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#工具" class="sidebar-link">工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jeffery-blog/pages/ewrrsseeb/#扩展阅读" class="sidebar-link">扩展阅读</a></li></ul></li></ul></li><li><a href="/jeffery-blog/pages/e808fba1fa8fbab2/" class="sidebar-link">多种数组去重性能对比</a></li><li><a href="/jeffery-blog/pages/40b4db2d38ba85f2/" class="sidebar-link">JS随机打乱数组</a></li><li><a href="/jeffery-blog/pages/0f6a0ac99b62ede5/" class="sidebar-link">防抖与节流函数</a></li><li><a href="/jeffery-blog/pages/7a91be2d502346ce/" class="sidebar-link">JS获取和修改url参数</a></li><li><a href="/jeffery-blog/pages/fd4a16d56b83c1bc/" class="sidebar-link">比typeof运算符更准确的类型判断</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript手写</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>V8引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-3afb0ca6><div class="articleInfo" data-v-3afb0ca6><ul class="breadcrumbs" data-v-3afb0ca6><li data-v-3afb0ca6><a href="/jeffery-blog/" title="首页" class="iconfont icon-home router-link-active" data-v-3afb0ca6></a></li> <li data-v-3afb0ca6><a href="/jeffery-blog/pages/ewrrsseeb/web/javascript/" title="javascript-目录页" data-v-3afb0ca6>javascript</a></li> <li data-v-3afb0ca6><a href="/jeffery-blog/pages/ewrrsseeb/web/javascript/#javascript实践" title="javascript#javascript实践" data-v-3afb0ca6>javascript实践</a></li> <!----></ul> <div class="info" data-v-3afb0ca6><div title="作者" class="author iconfont icon-touxiang" data-v-3afb0ca6><a href="javascript:;" data-v-3afb0ca6>jeffery</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-3afb0ca6><a href="javascript:;" data-v-3afb0ca6>2021-05-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          JavaScript 优化技术《三》
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="javascript-优化技术《三》"><a href="#javascript-优化技术《三》" class="header-anchor">#</a> JavaScript 优化技术《三》</h1> <h2 id="加载和运行"><a href="#加载和运行" class="header-anchor">#</a> 加载和运行</h2> <p><code>JS</code> 引擎是单线程，同一时间只能有一个任务被执行，<code>JS</code> 代码执行会阻塞浏览器处理过程，诸如用户界面绘制。每次遇到<code>&lt;script&gt;</code>标签，页面必须停下来等待代码下载(如果是外部的)并执行，然后再继续处理页面其他部分。但是，有几种方法可以减少  <code>JavaScript</code>  对性能的影响:</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fdcc454e6ee1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image-20210802125716722"></p> <h3 id="脚本位置"><a href="#脚本位置" class="header-anchor">#</a> 脚本位置</h3> <p>将所有<code>&lt;script&gt;</code>标签放置在页面的底部，紧靠 <code>body</code>  关闭标签<code>&lt;/body&gt;</code>的上方。此法可以保证页面在脚本运行之前完成解析。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="脚本合并"><a href="#脚本合并" class="header-anchor">#</a> 脚本合并</h3> <p>将脚本成组打包。页面的<code>&lt;script&gt;</code>标签越少，页面的加载速度就越快，响应也更加迅速。不论外部脚本 文件还是内联代码都是如此。</p> <h3 id="defer-async"><a href="#defer-async" class="header-anchor">#</a> defer &amp; async</h3> <p>常规<code>script</code>脚本浏览器会立即加载并执行，异步加载使用<code>async</code>与<code>defer</code> 二者区别在于<code>aysnc</code>为无序，<code>defer</code>会异步根据脚本位置先后依次加载执行</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- file1、file2依次加载 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file1.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file2.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- file1、file2无序加载 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file1.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file2.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="动态脚本"><a href="#动态脚本" class="header-anchor">#</a> 动态脚本</h3> <p>无论在何处启动下载，文件的下载和运行都不会阻塞其他页面处理过程。你甚至可以将这些代码放在<code>&lt;head&gt;</code>部分而不会对其余部分的页面代码造成影响（除了用于下载文件的 <code>HTTP</code> 连接）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;file1.js&quot;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="监听加载函数"><a href="#监听加载函数" class="header-anchor">#</a> 监听加载函数</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>script<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//IE</span>
    script<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>script<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token string">&quot;loaded&quot;</span> <span class="token operator">||</span> script<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token string">&quot;complete&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        script<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//Others</span>
    script<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="xhr-注入"><a href="#xhr-注入" class="header-anchor">#</a> XHR 注入</h3> <p>前提条件为同域，此处与异步加载一样，只不过使用的是 <code>XMLHttpRequest</code></p> <hr> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <ul><li>将所有<code>script</code>标签放在页面底部，紧靠 <code>body</code> 关闭标签上方，以保证页面脚本运行之前完成解析</li> <li>将脚本成组打包，页面 <code>script</code> 标签越少加载越快，响应也就更迅速。不论外部脚本文件或者内联代码都是如此</li></ul> <h2 id="数据访问"><a href="#数据访问" class="header-anchor">#</a> 数据访问</h2> <p>在  <code>JavaScript</code> 中 ，数据存储位置可以对代码整体性能产生重要影响。有四种数据访问类型:直接量，变量，数组项，对象成员。它们有不同的性能考虑。</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fdcfe6225580?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image-20210802133829011"></p> <h3 id="在-javascript-中有四种基本的数据访问位置："><a href="#在-javascript-中有四种基本的数据访问位置：" class="header-anchor">#</a> 在 JavaScript 中有四种基本的数据访问位置：</h3> <ul><li>直接量 直接量仅仅代表自己，而不存储于特定位置。 <code>JavaScript</code> 的直接量包括：字符串，数字，布尔值，对象，数组，函数，正则表达式，具有特殊意义的空值，以及未定义</li> <li>变量 使用 <code>var / let</code> 关键字创建用于存储数据值</li> <li>数组项 具有数字索引，存储一个 <code>JavaScript</code> 数组对象</li> <li>对象成员 具有字符串索引，存储一个 <code>JavaScript</code> 对象</li></ul> <hr> <h3 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h3> <ul><li>直接量与局部变量访问速度非常快，数组项和对象成员需要更长时间</li> <li>局部变量比域外变量访问速度快，因为它位于作用域链的第一个对象中。变量在作用域链的位置越深，访问所需要的时间越长。全局变量总是最慢的，因为它们总位于作用域链的最后一环。</li> <li>避免使用 <code>with</code> 表达式，因为它改变了运行期上下文的作用域链，谨慎对待 <code>try-catch</code> 表达式中 <code>catch</code> 子句，因为它具有同样的效果</li> <li>嵌套对象成员会造成重大性能影响，尽量少用</li> <li>属性在原型链中的位置越深，访问速度越慢</li> <li>将对象成员、数组项、域外变量存入局部变量能提高 <code>js</code> 代码的性能</li></ul> <h2 id="dom-编程"><a href="#dom-编程" class="header-anchor">#</a> DOM 编程</h2> <p>对 <code>DOM</code> 操作代价昂贵，在富网页应用中通常是一个性能瓶颈。通常处理以下三点</p> <ul><li><p>访问和修改 <code>DOM</code> 元素</p></li> <li><p>修改 <code>DOM</code> 元素的样式，造成重绘和重新排版</p></li> <li><p>通过 <code>DOM</code> 事件处理用户响应</p></li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一个很形象的比喻是把 <code>DOM</code> 看成一个岛屿，把 JavaScript（ECMAScript）看成另一个岛屿，两者之间以一座收费桥连接，ECMAScript 需要访问 <code>DOM</code> 时，你需要过桥，交一次“过桥费”。你操作 <code>DOM</code> 次数越多，费用就越高。一般的建议是尽量减少过桥次数，努力停留在 ECMAScript 岛上。</p></div> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fdd2b6dc3942?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image-20210802134244729"></p> <h3 id="dom-访问和修改"><a href="#dom-访问和修改" class="header-anchor">#</a> DOM 访问和修改</h3> <p>访问或修改元素最坏的情况是使用循环执行此操作，特别是在 <code>HTML</code> 集合中使用循环</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">innerHTMLLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">15000</span><span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;here&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>此函数在循环中更新页面内容。这段代码的问题是，在每次循环单元中都对 <code>DOM</code> 元素访问两次：一次 读取 <code>innerHTML</code> 属性能容，另一次写入它</p> <p>优化如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">innerHTMLLoop2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">15000</span><span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    content <span class="token operator">+=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;here&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>你访问 DOM 越多，代码的执行速度就越慢。因此，一般经验法则是：轻轻地触摸 DOM，并尽量保持在 ECMAScript 范围内</strong></p> <h3 id="节点克隆"><a href="#节点克隆" class="header-anchor">#</a> 节点克隆</h3> <p>使用 <code>DOM</code> 方法更新页面内容的另一个途径是克隆已有 <code>DOM</code> 元素，而不是创建新的——即使用 <code>element.cloneNode()</code>（element 是一个已存在的节点）代替 <code>document.createElement()</code>;</p> <h3 id="当布局和几何改变时发生重排版，下述情况会发生："><a href="#当布局和几何改变时发生重排版，下述情况会发生：" class="header-anchor">#</a> 当布局和几何改变时发生重排版，下述情况会发生：</h3> <ul><li>添加或删除可见的 <code>DOM</code> 元素</li> <li>元素位置改变</li> <li>元素尺寸改变（边距、填充、边框宽度、宽、高等属性）</li> <li>内容改变（文本或者图片被另一个不同尺寸的所替代）</li> <li>最初的页面渲染</li> <li>浏览器窗口尺寸改变</li></ul> <h3 id="减少重排次数"><a href="#减少重排次数" class="header-anchor">#</a> 减少重排次数</h3> <ul><li>改变 <code>display</code> 属性，临时从文档上移除然后再恢复</li> <li>在文档之外创建并更新一个文档片段，然后将它进行附加</li> <li>先创建更新节点的副本，再操作副本，最后用副本更新老节点</li></ul> <hr> <h3 id="总结-3"><a href="#总结-3" class="header-anchor">#</a> 总结</h3> <ul><li>最小化 <code>DOM</code> 访问，在 <code>JavaScript</code> 端做尽可能多的事情</li> <li>在反复访问的地方使用局部变量存放 <code>dom</code> 引用</li> <li>谨慎处理 <code>HTML</code> 集合，因为它们表现‘存在性’，总对底层文档重新查询。将 <code>length</code> 属性缓存到一个变量中，在迭代中使用这个变量。如果经常操作这个集合，可以将集合拷贝到数组中</li> <li>如果可以，使用速度更快的 <code>API</code>，比如 <code>document.querySelectorAll()</code>和 <code>firstElementChild()</code></li> <li>注意重绘和重排，批量修改风格，离线操作 <code>DOM</code>，缓存或减少对布局信息的访问</li> <li>动画中使用绝对坐标，使用拖放代理</li> <li>使用事件托管技术中的最小化事件句柄数量</li></ul> <h2 id="算法与流程控制"><a href="#算法与流程控制" class="header-anchor">#</a> 算法与流程控制</h2> <p>代码整体结构是执行速度的决定因素之一。代码量少不一定执行快，代码量多，也不一定执行慢，性能损失与代码组织方式和具体问题解决办法直接相关。</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fdd56a2ebbda?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image-20210802134348764"></p> <h3 id="loops"><a href="#loops" class="header-anchor">#</a> Loops</h3> <p>在大多数编程语言中，代码执行时间多数在循环中度过。在一系列编程模式中，循环是最常见的模式之一，提高性能必须控制好循环，死循环和长时间循环会严重影响用户体验。</p> <h4 id="types-of-loops"><a href="#types-of-loops" class="header-anchor">#</a> Types of Loops</h4> <ul><li>for</li> <li>while</li> <li>do while</li> <li>for in</li></ul> <p>前三种循环几乎所有编程语言都能通用，<code>for in</code> 循环遍历对象命名属性（包括自有属性和原型属性）</p> <h4 id="loop-performance"><a href="#loop-performance" class="header-anchor">#</a> Loop Performance</h4> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>循环性能争论的源头是应当选用哪种循环，在 JS 中 for-in 比其他循环明显要慢（每次迭代都要搜索实例或原型属性），除非对数目不详的对象属性进行操作，否则避免使用 for-in。除开 for-in，选择循环应当基于需求而不是性能</p></div> <p>减少每次迭代的操作总数可以大幅提高循环的整体性能</p> <p>优化循环：</p> <ul><li>减少对象成员和数组项的查找，比如缓存数组长度，避免每次查找数组 <code>length</code> 属性</li> <li>倒序循环是编程语言中常用的性能优化方法</li></ul> <p>编程中经常会听到此说法，现在来验证一下，测试样例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;倒序循环耗时：%s ms&quot;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//约180 ms</span>
<span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;正序序循环耗时：%s ms&quot;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//约788 ms</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="https://user-gold-cdn.xitu.io/2019/6/17/16b64e3d499b4841?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="循环正反序测试"></p> <h4 id="基于函数的迭代"><a href="#基于函数的迭代" class="header-anchor">#</a> 基于函数的迭代</h4> <p>尽管基于函数的迭代显得更加便利，它还是比基于循环的迭代要慢一些。每个数组项要关联额外的函数调用是造成速度慢的原因。在所有情况下，基于函数的迭代占用时间是基于循环的迭代的八倍，因此在关注执行时间的情况下它并不是一个合适的办法。</p> <h3 id="条件表达式"><a href="#条件表达式" class="header-anchor">#</a> 条件表达式</h3> <h4 id="if-else-vs-switch"><a href="#if-else-vs-switch" class="header-anchor">#</a> if-else VS switch</h4> <p>使用 <code>if-else</code> 或者 <code>switch</code> 的流行理论是基于测试条件的数量：条件数量较大，倾向使用 <code>switch</code>，更易于阅读 当条件体增加时，<code>if-else</code> 性能负担增加的程度比 <code>switch</code> 更多。 一般来说，<code>if-else</code> 适用于判断两个离散的值或者几个不同的值域，如果判断条件较多 <code>switch</code> 表达式将是更理想的选择</p> <h4 id="优化-if-else"><a href="#优化-if-else" class="header-anchor">#</a> 优化 if-else</h4> <ul><li>最小化找到正确分支：将最常见的条件放在首位</li> <li>查表法 当使用查表法时，必须完全消除所有条件判断，操作转换成一个数组项查询或者一个对象成员查询。</li></ul> <h3 id="递归"><a href="#递归" class="header-anchor">#</a> 递归</h3> <p>会受浏览器调用栈大小的限制</p> <h4 id="迭代"><a href="#迭代" class="header-anchor">#</a> 迭代</h4> <p>任何可以用递归实现的算法可以用迭代实现。使用优化的循环替代长时间运行的递归函数可以提高性能，因为运行一个循环比反复调用一个函数的开销要低</p> <p>斐波那契</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="制表"><a href="#制表" class="header-anchor">#</a> 制表</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//制表</span>
<span class="token keyword">function</span> <span class="token function">memorize</span><span class="token punctuation">(</span><span class="token parameter">fundamental<span class="token punctuation">,</span> cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cache <span class="token operator">=</span> cache <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">shell</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cache<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cache<span class="token punctuation">[</span>args<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fundamental</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> cache<span class="token punctuation">[</span>args<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> shell<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//动态规划</span>
<span class="token keyword">function</span> <span class="token function">fibonacciOptimize</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> current<span class="token punctuation">;</span>
    current <span class="token operator">=</span> previous <span class="token operator">+</span> current<span class="token punctuation">;</span>
    previous <span class="token operator">=</span> temp<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> current<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//计算</span>
<span class="token keyword">var</span> res1 <span class="token operator">=</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res2 <span class="token operator">=</span> <span class="token function">memorize</span><span class="token punctuation">(</span>fibonacci<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res3 <span class="token operator">=</span> <span class="token function">fibonacciOptimize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//计算出来的res3优于res2，res2优于res1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><hr> <h3 id="总结-4"><a href="#总结-4" class="header-anchor">#</a> 总结</h3> <p>运行代码的总量越大，优化带来的性能提升越明显 正如其他编程语言，代码的写法与算法选用影响 JS 的运行时间，与其他编程语言不同，JS 可用资源有限，所以优化固然重要</p> <ul><li><code>for</code>, <code>while</code>, <code>do while</code> 循环的性能特性相似，谁也不比谁更快或更慢</li> <li>除非要迭代遍历一个属性未知的对象，否则不要使用 <code>for-in</code> 循环</li> <li>改善循环的最佳方式减少每次迭代中的运算量，并减少循环迭代次数</li> <li>一般来说 <code>switch</code> 总比 <code>if-else</code> 更快，但总不是最好的解决方法</li> <li>当判断条件较多，查表法优于 <code>if-else</code> 和 <code>switch</code></li> <li>浏览器的调用栈大小限制了递归算法在 <code>js</code> 中的应用，栈溢出导致其他代码不能正常执行</li> <li>如果遇到栈溢出，将方法修改为制表法，可以避免重复工作</li></ul> <h2 id="字符串和正则表达式-string-and-regular-expression"><a href="#字符串和正则表达式-string-and-regular-expression" class="header-anchor">#</a> 字符串和正则表达式 String And Regular Expression</h2> <p>在 JS 中，正则是必不可少的东西，它的重要性远远超过烦琐的字符串处理</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fdd820a10240?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image-20210802134423536"></p> <h3 id="字符串链接-stirng-concatenation"><a href="#字符串链接-stirng-concatenation" class="header-anchor">#</a> 字符串链接 Stirng Concatenation</h3> <p>字符串连接表现出惊人的性能紧张。通常一个任务通过一个循环，向字符串末尾不断地添加内容，来创建一个字符串（例如，创建一个 <code>HTML</code> 表或者一个 <code>XML</code> 文档），但此类处理在一些浏览器上表现糟糕而遭人痛恨</p> <table><thead><tr><th>Method</th> <th>Example</th></tr></thead> <tbody><tr><td>+</td> <td>str = 'a' + 'b' + 'c';</td></tr> <tr><td>+=</td> <td>str = 'a';   str += 'b';   str += 'c';</td></tr> <tr><td>array.join()</td> <td>str = ['a','b','c'].join('');</td></tr> <tr><td>string.concat()</td> <td>str = 'a';   str = str.concat('b', 'c');</td></tr></tbody></table> <p>当连接少量的字符串，上述的方式都很快，可根据自己的习惯使用； 当合并字符串的长度和数量增加之后，有些函数就开始发挥其作用了</p> <h4 id=""><a href="#" class="header-anchor">#</a> + &amp; +=</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>str <span class="token operator">+=</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此代码执行时，发生四个步骤</p> <ol><li>内存中创建了一个临时字符串</li> <li>临时字符串的值被赋予'ab'</li> <li>临时串与 str 进行连接</li> <li>将结果赋予 str</li></ol> <p>下面的代码通过两个离散的表达式直接将内容附加在 <code>str</code> 上避免了临时字符串</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>str <span class="token operator">+=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
str <span class="token operator">+=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>事实上用一行代码就可以解决</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>str <span class="token operator">=</span> str <span class="token operator">+</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>赋值表达式以 <code>str</code> 开头，一次追加一个字符串，从左至右依次连接。如果改变了连接顺序（例如：<code>str = 'a' + str + 'b'</code>）,你会失去这种优化，这与浏览器合并字符串时分配内存的方法有关。除 IE 外，浏览器尝试扩展表达式左端字符串的内存，然后简单地将第二个字符串拷贝到它的尾部。如果在一个循环中，基本字符串在左端，可以避免多次复制一个越来越大的基本字符串。</p> <h4 id="array-prototype-join"><a href="#array-prototype-join" class="header-anchor">#</a> Array.prototype.join</h4> <p><code>Array.prototype.join</code> 将数组的所有元素合并成一个字符串，并在每个元素之间插入一个分隔符字符串。若传递一个空字符串，可将数组的所有元素简单的拼接起来</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;I'm a thirty-five character string.&quot;</span><span class="token punctuation">,</span>
  newStr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  appends <span class="token operator">=</span> <span class="token number">5000000</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>appends<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  newStr <span class="token operator">+=</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> time <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;耗时：&quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//耗时：1360ms</span>
<span class="token keyword">var</span> start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;I'm a thirty-five character string.&quot;</span><span class="token punctuation">,</span>
  strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  newStr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  appends <span class="token operator">=</span> <span class="token number">5000000</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>appends<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  strs<span class="token punctuation">[</span>strs<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
newStr <span class="token operator">=</span> strs<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> time <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;耗时：&quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//耗时：414ms</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>这一难以置信的改进结果是因为避免了重复的内存分配和拷贝越来越大的字符串。</p> <h4 id="string-prototype-concat"><a href="#string-prototype-concat" class="header-anchor">#</a> String.prototype.concat</h4> <p>原生字符串连接函数接受任意数目的参数，并将每一个参数都追加在调用函数的字符串上</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>大多数情况下 concat 比简单的+或+=慢一些</p> <h3 id="regular-expression-optimization-正则表达式优化"><a href="#regular-expression-optimization-正则表达式优化" class="header-anchor">#</a> Regular Expression Optimization 正则表达式优化</h3> <p>许多因素影响正则表达式的效率，首先，正则适配的文本千差万别，部分匹配时比完全不匹配所用的时间要长，每种浏览器的正则引擎也有不同的内部优化</p> <h4 id="正则表达式工作原理"><a href="#正则表达式工作原理" class="header-anchor">#</a> 正则表达式工作原理</h4> <ul><li><strong>编译</strong> 当你创建了一个正则表达式对象之后（使用一个正则表达式直接量或者 RegExp 构造器），浏览器检查你的模板有没有错误，然后将它转换成一个本机代码例程，用执行匹配工作。如果你将正则表达式赋给一个变量，你可以避免重复执行此步骤。</li> <li><strong>设置起始位置</strong> 当一个正则表达式投入使用时，首先要确定目标字符串中开始搜索的位置。它是字符串的起始位置，或者由正则表达式的 lastIndex 属性指定，但是当它从第四步返回到这里的时候（因为尝试匹配失败），此位置将位于最后一次尝试起始位置推后一个字符的位置上</li> <li><strong>匹配每个正则表达式的字元</strong> 正则表达式一旦找好起始位置，它将一个一个地扫描目标文本和正则表达式模板。当一个特定字元匹配失败时，正则表达式将试图回溯到扫描之前的位置上，然后进入正则表达式其他可能的路径上</li> <li><strong>匹配成功或失败</strong> 如果在字符串的当前位置上发现一个完全匹配，那么正则表达式宣布成功。如果正则表达式的所有可能路径都尝试过了，但是没有成功地匹配，那么正则表达式引擎回到第二步，从字符串的下一个字符重新尝试。只有字符串中的每个字符（以及最后一个字符后面的位置）都经历了这样的过程之后，还没有成功匹配，那么正则表达式就宣布彻底失败。</li></ul> <h4 id="理解回溯"><a href="#理解回溯" class="header-anchor">#</a> 理解回溯</h4> <p>在大多数现代正则表达式实现中（包括 JavaScript 所需的），回溯是匹配过程的基本组成部分。它很大程度上也是正则表达式如此美好和强大的根源。然而，回溯计算代价昂贵，如果你不够小心的话容易失控。虽然回溯是整体性能的唯一因素，理解它的工作原理，以及如何减少使用频率，可能是编写高效正则表达式最重要的关键点。</p> <p><strong>正则表达式匹配过程</strong></p> <ul><li>当一个正则表达式扫描目标字符串时，它从左到右逐个扫描正则表达式的组成部分，在每个位置上测试能不能找到一个匹配。对于每一个量词和分支，都必须决定如何继续进行。如果是一个量词（诸如*，+?，或者{2,}），正则表达式必须决定何时尝试匹配更多的字符；如果遇到分支（通过|操作符），它必须从这些选项中选择一个进行尝试。</li> <li>每当正则表达式做出这样的决定，如果有必要的话，它会记住另一个选项，以备将来返回后使用。如果所选方案匹配成功，正则表达式将继续扫描正则表达式模板，如果其余部分匹配也成功了，那么匹配就结束了。但是如果所选择的方案未能发现相应匹配，或者后来的匹配也失败了，正则表达式将回溯到最后一个决策点，然后在剩余的选项中选择一个。它继续这样下去，直到找到一个匹配，或者量词和分支选项的所有可能的排列组合都尝试失败了，那么它将放弃这一过程，然后移动到此过程开始位置的下一个字符上，重复此过程。</li></ul> <p>示例分析</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">h(ello|appy) hippo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hello there, happy hippo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此正则表达式匹配“hello hippo”或“happy hippo”。测试一开始，它要查找一个 h，目标字符串的第一个字母恰好就是 h，它立刻就被找到了。接下来，子表达式（ello|appy）提供了两个处理选项。正则表达式选择最左边的选项（分支选择总是从左到右进行），检查 ello 是否匹配字符串的下一个字符。确实匹配，然后正则表达式又匹配了后面的空格。然而在这一点上它走进了死胡同，因为 hippo 中的 h 不能匹配字符串中的下一个字母 t。此时正则表达式还不能放弃，因为它还没有尝试过所有的选择，随后它回溯到最后一个检查点（在它匹配了首字母 h 之后的那个位置上）并尝试匹配第二个分支选项。但是没有成功，而且也没有更多的选项了，所以正则表达式认为从字符串的第一个字符开始匹配是不能成功的，因此它从第二个字符开始，重新进行查找。它没有找到 h，所以就继续向后找，直到第 14 个字母才找到，它匹配 happy 的那个 h。然后它再次进入分支过程。这次 ello 未能匹配，但是回溯之后第二次分支过程中，它匹配了整个字符串“happy hippo”（如图 5-4）。匹配成功了。</p> <h4 id="回溯失控"><a href="#回溯失控" class="header-anchor">#</a> 回溯失控</h4> <p>当一个正则表达式占用浏览器上秒，上分钟或者更长时间时，问题原因很可能是回溯失控。正则表达式处理慢往往是因为匹配失败过程慢，而不是匹配成功过程慢。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;html&gt;[\s\S]*?&lt;head&gt;[\s\S]*?&lt;title&gt;[\s\S]*?&lt;\/title&gt;[\s\S]*?&lt;\/head&gt;[\s\S]*?&lt;body&gt;[\s\S]*?&lt;\/body&gt;[\s\S]*?&lt;\/html&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token comment">//优化如下</span>
<span class="token keyword">var</span> regOptimize <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;html&gt;(?=([\s\S]*?&lt;head&gt;))\1(?=([\s\S]*?&lt;title&gt;))\2(?=([\s\S]*?&lt;\/title&gt;))\3(?=([\s\S]*?&lt;\/head&gt;))\4(?=([\s\S]*?&lt;body&gt;))\5(?=([\s\S]*?&lt;\/body&gt;))\6[\s\S]*?&lt;\/html&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>现在如果没有尾随的那么最后一个[\s\S]*?将扩展至字符串结束，正则表达式将立刻失败因为没有回溯点可以返回</p> <h4 id="提高正则表达式效率的更多方法"><a href="#提高正则表达式效率的更多方法" class="header-anchor">#</a> 提高正则表达式效率的更多方法</h4> <ul><li>关注如何让匹配更快失败</li> <li>正则表达式以简单的，必需的字元开始</li> <li>编写量词模板，使它们后面的字元互相排斥</li> <li>减少分支的数量，缩小它们的范围</li> <li>使用非捕获组</li> <li>捕获感兴趣的文字，减少后处理</li> <li>暴露所需的字元</li> <li>使用适当的量词</li> <li>将正则表达式赋给变量，以重用它们</li> <li>将复杂的正则表达式拆分为简单的片断</li></ul> <h4 id="什么时候不应该使用正则表达式"><a href="#什么时候不应该使用正则表达式" class="header-anchor">#</a> 什么时候不应该使用正则表达式</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> endsWithSemicolon <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">;$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>你可能觉得很奇怪，虽说当前没有哪个浏览器聪明到这个程度，能够意识到这个正则表达式只能匹配字符串的末尾。最终它们所做的将是一个一个地测试了整个字符串。字符串的长度越长（包含的分号越多），它占用的时间也越长</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> endsWithSemicolon <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种情况下，更好的办法是跳过正则表达式所需的所有中间步骤，简单地检查最后一个字符是不是分号：</p> <p>这个例子使用 charAt 函数在特定位置上读取字符。字符串函数 slice，substr，和 substring 可用于在特定位置上提取并检查字符串的值</p> <p>所有这些字符串操作函数速度都很快，当您搜索那些不依赖正则表达式复杂特性的文本字符串时，它们有助于您避免正则表达式带来的性能开销</p> <h4 id="字符串修剪"><a href="#字符串修剪" class="header-anchor">#</a> 字符串修剪</h4> <p>正则表达式允许你用很少的代码实现一个修剪函数，这对 JavaScript 关心文件大小的库来说十分重要。可能最好的全面解决方案是使用两个子表达式：一个用于去除头部空格，另一个用于去除尾部空格。这样处理简单而迅速，特别是处理长字符串时。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//方法 用正则表达式修剪</span>
<span class="token comment">// trim1</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//trim2</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+|\s+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// trim 3</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s*([\s\S]*?)\s*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// trim 4</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s*([\s\S]*\S)?\s*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// trim 5</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s*(\S*(\s+\S+)*)\s*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//方法二 不使用正则表达式修剪</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> end <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">//ws 变量包括 ECMAScript 5 中定义的所有空白字符</span>
  <span class="token keyword">var</span> ws <span class="token operator">=</span>
    <span class="token string">&quot;\n\r\t\f\x0b\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\ufeff&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>ws<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    start<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;</span> start <span class="token operator">&amp;&amp;</span> ws<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    end<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//方法三 混合解决方案</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    end <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    ws <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>ws<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    end<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>简单地使用两个子正则表达式在所有浏览器上处理不同内容和长度的字符串时，均表现出稳定的性能。因此它可以说是最全面的解决方案。混合解决方案在处理长字符串时特别快，其代价是代码稍长，在某些浏览器上处理尾部长空格时存在弱点</p> <hr> <h3 id="总结-5"><a href="#总结-5" class="header-anchor">#</a> 总结</h3> <ul><li>使用简单的+和+=取代数组联合，可避免（产生）不必要的中间字符串</li> <li>当连接数量巨大或尺寸巨大的字符串时，使用数组联合</li> <li>使相邻字元互斥，避免嵌套量词对一个字符串的相同部分多次匹配，通过重复利用前瞻操作的原子特性去除不必要的回溯</li></ul> <h2 id="响应接口"><a href="#响应接口" class="header-anchor">#</a> 响应接口</h2> <p>用户倾向于重复尝试这些不发生明显变化的动作，所以确保网页应用程序的响应速度也是一个重要的性能关注点</p> <p><img src="https://gitee.com/FIF/pic-beg/raw/master/images/javascript/image-20210802134506836.png" alt="image-20210802134506836"></p> <h3 id="浏览器-ui-线程"><a href="#浏览器-ui-线程" class="header-anchor">#</a> 浏览器 UI 线程</h3> <p><code>JavaScript</code> 和 <code>UI</code> 更新共享的进程通常被称作浏览器 <code>UI</code> 线程, <code>UI</code> 线程围绕着一个简单的队列系统工作，任务被保存到队列中直至进程空闲。一旦空闲，队列中的下一个任务将被检索和运行。这些任务不是运行 <code>JavaScript</code> 代码，就是执行 <code>UI</code> 更新，包括重绘和重排版. 大多数浏览器在 <code>JavaScript</code> 运行时停止 <code>UI</code> 线程队列中的任务，也就是说 <code>JavaScript</code> 任务必须尽快结束，以免对用户体验造成不良影响</p> <h3 id="定时器基础"><a href="#定时器基础" class="header-anchor">#</a> 定时器基础</h3> <p>定时器与 <code>UI</code> 线程交互的方式有助于分解长运行脚本成为较短的片断</p> <h3 id="定时器精度"><a href="#定时器精度" class="header-anchor">#</a> 定时器精度</h3> <p>所有浏览器试图尽可能准确，但通常会发生几毫秒滑移，或快或慢。正因为这个原因，定时器不可用于测量实际时间</p> <hr> <h3 id="总结-6"><a href="#总结-6" class="header-anchor">#</a> 总结</h3> <ul><li><code>JavaScript</code> 运行时间不应该超过 100 毫秒。过长的运行时间导致 UI 更新出现可察觉的延迟，从而对整体用户体验产生负面影响</li> <li><code>JavaScript</code> 运行期间，浏览器响应用户交互的行为存在差异。无论如何，<code>JavaScript</code> 长时间运行将导致用户体验混乱和脱节。</li> <li>同一时间只有一个定时器存在，只有当这个定时器结束时才创建一个新的定时器。以这种方式使用定时器不会带来性能问题</li> <li>定时器可用于安排代码推迟执行，它使得你可以将长运行脚本分解成一系列较小的任务</li></ul> <h2 id="ajax"><a href="#ajax" class="header-anchor">#</a> Ajax</h2> <p>目前最常用的方法中，<code>XMLHttpRequest（XHR）</code>用来异步收发数据。所有现代浏览器都能够很好地支持它，而且能够精细地控制发送请求和数据接收。你可以向请求报文中添加任意的头信息和参数（包括 GET 和 POST），并读取从服务器返回的头信息，以及响应文本自身</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/28/1657fddbf1ad2b4f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <h3 id="请求数据"><a href="#请求数据" class="header-anchor">#</a> 请求数据</h3> <p>五种常用技术用于向服务器请求数据</p> <ul><li>XMLHttpRequest (XHR)</li> <li>Dynamic script tag insertion 动态脚本标签插入</li> <li>iframes</li> <li>Comet</li> <li>Multipart XHR 多部分的 XHR</li></ul> <h3 id="xmlhttprequest"><a href="#xmlhttprequest" class="header-anchor">#</a> XMLHttpRequest</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//封装ajax</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="动态脚本标签插入"><a href="#动态脚本标签插入" class="header-anchor">#</a> 动态脚本标签插入</h3> <h3 id="发送数据"><a href="#发送数据" class="header-anchor">#</a> 发送数据</h3> <ul><li>XMLHttpRequest</li> <li>图像灯标</li></ul> <h3 id="数据格式"><a href="#数据格式" class="header-anchor">#</a> 数据格式</h3> <p>通过 Douglas Crockford 的发明与推广，JSON 是一个轻量级并易于解析的数据格式，它按照 JavaScript 对象和数组字面语法所编写</p> <h3 id="ajax-性能向导"><a href="#ajax-性能向导" class="header-anchor">#</a> Ajax 性能向导</h3> <p>数据传输技术和数据格式</p> <ul><li>缓存数据</li> <li>设置 HTTP 头</li> <li>本地存储数据</li></ul> <hr> <h3 id="总结-7"><a href="#总结-7" class="header-anchor">#</a> 总结</h3> <p>高性能 Ajax 包括：知道你项目的具体需求，选择正确的数据格式和与之相配的传输技术</p> <ul><li>减少请求数量，可合并 <code>js</code> 和 <code>css</code> 文件</li> <li>缩短页面的加载时间，在页面其它内容加载之后，使用 <code>Ajax</code> 获取少量重要文件</li> <li><code>JSON</code> 是高性能 <code>AJAX</code> 的基础，尤其在使用动态脚本注入时</li> <li>学会何时使用一个健壮的 <code>Ajax</code> 库，何时编写自己的底层 <code>Ajax</code> 代码</li></ul> <p>封装自己的 <code>ajax</code> 库</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  root<span class="token punctuation">.</span><span class="token function-variable function">MyAjax</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> config<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
    <span class="token keyword">let</span> type <span class="token operator">=</span> config<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> async <span class="token operator">=</span> config<span class="token punctuation">.</span>async <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> headers <span class="token operator">=</span> config<span class="token punctuation">.</span>headers <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> contentType <span class="token operator">=</span> config<span class="token punctuation">.</span>contentType <span class="token operator">||</span> <span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> config<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token keyword">let</span> dataType <span class="token operator">=</span> config<span class="token punctuation">.</span>dataType <span class="token operator">||</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> successFn <span class="token operator">=</span> config<span class="token punctuation">.</span>success<span class="token punctuation">;</span>
    <span class="token keyword">let</span> errorFn <span class="token operator">=</span> config<span class="token punctuation">.</span>error<span class="token punctuation">;</span>
    <span class="token keyword">let</span> completeFn <span class="token operator">=</span> config<span class="token punctuation">.</span>complete<span class="token punctuation">;</span>
    <span class="token keyword">let</span> xhr<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> rsp <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText <span class="token operator">||</span> xhr<span class="token punctuation">.</span>responseXML<span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>dataType <span class="token operator">===</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            rsp <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> rsp <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token function">successFn</span><span class="token punctuation">(</span>rsp<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">,</span> xhr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">errorFn</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">,</span> xhr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>completeFn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">completeFn</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">,</span> xhr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置超时</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>async<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> config<span class="token punctuation">.</span>timeout <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//设置请求头</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> headers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span>headers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> headers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//send</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      <span class="token keyword">typeof</span> data <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span>
      contentType <span class="token operator">===</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>attr <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s <span class="token operator">+=</span> attr <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h2 id="编程实践"><a href="#编程实践" class="header-anchor">#</a> 编程实践</h2> <p><code>JavaScript</code> 提出了一些独特的性能挑战，关系到你组织代码的方法。</p> <p><img src="https://gitee.com/FIF/pic-beg/raw/master/images/javascript/image-20210802134555438.png" alt="image-20210802134555438"></p> <p><strong>编程实践</strong></p> <ul><li><p>避免二次评估，比如 <code>eval</code>，<code>Function</code></p></li> <li><p>使用对象/数组直接量</p></li> <li><p>不要重复工作</p></li> <li><p>延迟加载</p></li> <li><p>条件预加载</p></li> <li><p>使用速度快的部分</p></li> <li><p>位操作运算符 四种位逻辑操作符</p></li></ul> <p>位与 比如判断数奇偶</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//取模与0进行判断</span>
num <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//位与1结果位1则为奇数，为0则为偶数</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>位或</p></li> <li><p>位异或</p></li> <li><p>位非</p></li> <li><p>位掩码 位掩码在计算机科学中是一种常用的技术，可同时判断多个布尔 选项，快速地将数字转换为布尔标志数组。掩码中每个选项的值都等于 2 的幂</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token constant">OPTION_A</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">OPTION_B</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">OPTION_C</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">OPTION_D</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">OPTION_E</span> <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>通过定义这些选项，你可以用位或操作创建一个数字来包含多个选项：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token constant">OPTION_A</span> <span class="token operator">|</span> <span class="token constant">OPTION_C</span> <span class="token operator">|</span> <span class="token constant">OPTION_D</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以使用位与操作检查一个给定的选项是否可用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//is option A in the list?</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>options <span class="token operator">&amp;</span> <span class="token constant">OPTION_A</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//do something</span>
<span class="token punctuation">}</span>
<span class="token comment">//is option B in the list?</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>options <span class="token operator">&amp;</span> <span class="token constant">OPTION_B</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//do something</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>像这样的位掩码操作非常快，正因为前面提到的原因，操作发生在系统底层。如果许多选项保存在一起并经常检查，位掩码有助于加快整体性能</p> <h3 id="原生方法"><a href="#原生方法" class="header-anchor">#</a> 原生方法</h3> <p>无论你怎样优化 <code>JavaScript</code> 代码，它永远不会比 <code>JavaScript</code> 引擎提供的原生方法更快。经验不足的 <code>JavaScript</code> 开发者经常犯的一个错误是在代码中进行复杂的数学运算，而没有使用内置 <code>Math</code> 对象中那些性能更好的版本。<code>Math</code> 对象包含专门设计的属性和方法，使数学运算更容易。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//查看Math对象所有方法</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr> <h3 id="总结-8"><a href="#总结-8" class="header-anchor">#</a> 总结</h3> <ul><li>通过避免使用 <code>eval()</code>和 <code>Function()</code> 构造器避免二次评估。此外，给 <code>setTimeout()</code> 和 <code>setInterval()</code> 传递函数参数而不是字符串参数。</li> <li>创建新对象和数组时使用对象直接量和数组直接量。它们比非直接量形式创建和初始化更快。</li> <li>避免重复进行相同工作。当需要检测浏览器时，使用延迟加载或条件预加载</li> <li>当执行数学远算时，考虑使用位操作，它直接在数字底层进行操作。</li> <li>原生方法总是比 JavaScript 写的东西要快。尽量使用原生方法</li></ul> <h2 id="创建并部署高性能-javascript-应用程序"><a href="#创建并部署高性能-javascript-应用程序" class="header-anchor">#</a> 创建并部署高性能 JavaScript 应用程序</h2> <p>开发和部署过程对基于 <code>JavaScript</code> 的应用程序可以产生巨大影响，最重要的几个步骤如下:</p> <ul><li>合并 <code>js</code>文件，减少 HTTP 请求的数量</li> <li>以压缩形式提供 <code>js</code>文件（gzip 编码）</li> <li>通过设置 HTTP 响应报文头使 <code>js</code>文件可缓存，通过向文件名附加时间戳解决缓存问题</li> <li>使用 <code>CDN</code> 提供 <code>js</code>文件，<code>CDN</code> 不仅可以提高性能，它还可以为你管理压缩和缓存</li></ul> <h2 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h2> <p>当网页或应用程序变慢时，分析网上传来的资源，分析脚本的运行性能，使你能够集中精力在那些需要努力优化的地方。</p> <ul><li>使用网络分析器找出加载脚本和其它页面资源的瓶颈所在，这有助于决定哪些脚本需要延迟加载，或者进行进一步分析</li> <li>尽量延迟加载脚本以使页面渲染速度更快，向用户提供更好的整体体验。</li> <li>使用性能分析器找出脚本运行时速度慢的部分，检查每个函数所花费的时间，以及函数被调用的次数，通过调用栈自身提供的一些线索来找出哪些地方应当努力优化</li></ul> <h3 id="扩展阅读"><a href="#扩展阅读" class="header-anchor">#</a> 扩展阅读</h3> <ul><li><a href="https://juejin.cn/post/6844903801967624200" target="_blank" rel="noopener noreferrer">【前端性能优化】高性能JavaScript读书笔记<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.cn/post/6844903663832399879#heading-4" target="_blank" rel="noopener noreferrer">精读《高效 javascript》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/jeffery-blog/tags/?tag=javascript" title="标签">#javascript</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/08/03, 20:08:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/jeffery-blog/pages/sseseweweb/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JavaScript 优化技术《二》</div></a> <a href="/jeffery-blog/pages/e808fba1fa8fbab2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">多种数组去重性能对比</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/jeffery-blog/pages/sseseweweb/" class="prev">JavaScript 优化技术《二》</a></span> <span class="next"><a href="/jeffery-blog/pages/e808fba1fa8fbab2/">多种数组去重性能对比</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/jeffery-blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/jeffery-blog/pages/0weweawewee90/"><div>vue-cli4 全面配置</div></a> <span>08-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/jeffery-blog/pages/00ca90/"><div>Vue优化技术</div></a> <span>08-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/jeffery-blog/pages/2409c3/"><div>8个非常实用的Vue自定义指令</div></a> <span>08-10</span></dt></dl> <dl><dd></dd> <dt><a href="/jeffery-blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1987458665@qq.com?subject=test&amp;cc=1987458665@qq.com&amp;body=use mailto sample" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JefferyXZF" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=3137169236" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2021
    <span>jeffery | <a href="https://github.com/JefferyXZF/jeffery-blog/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/jeffery-blog/assets/js/app.83625c55.js" defer></script><script src="/jeffery-blog/assets/js/2.bf7bcbb7.js" defer></script><script src="/jeffery-blog/assets/js/3.5eaeddd5.js" defer></script><script src="/jeffery-blog/assets/js/117.4a5d0246.js" defer></script>
  </body>
</html>